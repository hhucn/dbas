function AdminInterface(){this.getArgumentOverview=function(){var a=$("#"+hiddenCSRFTokenId).val(),d=this;$.ajax({url:"argument_overview",method:"GET",dataType:"json",data:{issue:new Helper().getCurrentIssueId()},async:true,headers:{"X-CSRF-Token":a}}).done(function c(e){d.setArgumentOverviewDataContent($.parseJSON(e));$("#"+listAllArgumentId).val(_t(hideAllArguments));$("#"+adminsSpaceForArgumentsId).fadeIn();new GuiHandler().hideErrorDescription()}).fail(function b(){var e=_t(requestFailed)+" ("+new Helper().startWithLowerCase(_t(errorCode))+" 10). "+_t(doNotHesitateToContact)+". "+_t(restartOnError)+".";new GuiHandler().showDiscussionError(e);$("#"+listAllArgumentId).val(_t(showAllArguments));$("#"+adminsSpaceForArgumentsId).fadeOut()})};this.setArgumentOverviewDataContent=function(b){var d=$("#"+adminsSpaceForArgumentsId),c=$("#dropdown-issue-list");d.empty();c.find("li:not(:first-child)").remove();$("#issue-switch-col").show();$.each(b,function a(s,r){c.append($("<li>").addClass("enabled").append($("<a>").html(s).attr("href","#")));if(r.length==0){var g=$("<p>").html(_t(noEntriesFor)+": "+s),f=$("<div>").attr("id","table_"+s.replace(/\ /g,"_")).addClass("alert-warning").addClass("alert").attr("style","margin-left: 2em; margin-right: 2em; display: none");f.append(g);d.append(f);return}var e,k,m,l=$("<tbody>"),q=$("<thead>"),n=$("<tr>"),j=["","","","","",""],h=["","","","","",""];e=$("<table>").attr("id","table_"+s.replace(/\ /g,"_")).attr("class","table table-condensed tablesorter").attr("border","0").attr("style","border-collapse: separate; border-spacing: 0px; display: none; margin-left: 1em; margin-right: 1em;");for(k=0;k<j.length;k+=1){j[k]=$("<td>");h[k]=$("<spand>").attr("class","font-semi-bold")}h[0].text("ID");h[1].text(_t(text));h[2].text("#Votes");h[3].text("#Upvotes");h[4].text("#Valid Upotes");h[5].text("");for(k=0;k<j.length;k+=1){j[k].append(h[k]);n.append(j[k]);q.append(n)}e.append(q);$.each(r,function o(i,p){n=$("<tr>");for(k=0;k<j.length;k+=1){j[k]=$("<td>")}m=$("<img>").addClass("glyphicon-local center info-glyphicon");m.attr("id","info_"+p.uid).attr("src",mainpage+"static/images/transparent.gif");m.click(function(){alert("todo infos about argument "+p.uid)});j[0].text(p.uid).attr("argument_"+p.uid);j[1].html(p.text);j[2].text(p.votes);j[3].text(p.valid_votes);j[4].text(p.valid_upvotes);j[5].append(m);for(k=0;k<j.length;k+=1){n.append(j[k])}n.hover(function(){$(this).toggleClass("text-hover")});l.append(n)});e.append(l);d.append(e)});d.children().eq(0).show();c.find("li:nth-child(1)").removeClass("enabled").addClass("disabled");c.find("li").each(function(){$(this).click(function(){var e=$("#dropdown-issue-list").find("li.disabled"),f=e.find("a").text();e.addClass("enabled").removeClass("disabled");$(this).removeClass("enabled").addClass("disabled");$("#table_"+f.replace(/\ /g,"_")).hide();$("#table_"+$(this).find("a").text().replace(/\ /g,"_")).show()})})}}function NavBarInterface(){var a=this;this.setUpLinks=function(){$("#admin-dashboards").click(function(){a.showDashboard()});$("#admin-users").click(function(){a.showUsers()});$("#admin-arguments").click(function(){a.showArguments()});$("#admin-issues").click(function(){a.showIssues()});$("#admin-statements").click(function(){a.showStatements()});$("#admin-premisegroups").click(function(){a.showPremisegroups()});$("#dashboard-user-count-detail").click(function(){a.showUsers()});$("#dashboard-vote-count-detail").click(function(){a.showVotes()});$("#dashboard-argument-count-detail").click(function(){a.showArguments()});$("#dashboard-statement-count-detail").click(function(){a.showStatements()});$("#dashboard-premisegroups-count-detail").click(function(){a.showPremisegroups()})};this.hideEverything=function(){$("#navbar-wrapper").find(".active").removeClass("active");$("#content-wrapper").find(">div").each(function(){$(this).hide()})};this.showDashboard=function(){this.hideEverything();$("#admin-dashboards").parent().addClass("active");$("#admins-space-dashboard").show()};this.showUsers=function(){this.hideEverything();$("#admin-users").parent().addClass("active");$("#admins-space-users").show().prev()};this.showVotes=function(){this.hideEverything()};this.showArguments=function(){this.hideEverything();$("#admin-arguments").parent().addClass("active");$("#admins-space-argument").prev().show()};this.showIssues=function(){this.hideEverything();$("#admin-issues").parent().addClass("active");$("#admins-space-issue").show()};this.showStatements=function(){this.hideEverything();$("#admin-statements").parent().addClass("active");$("#admins-space-statements").show()};this.showPremisegroups=function(){this.hideEverything();$("#admin-premisegroups").parent().addClass("active");$("#admins-space-premisegroups").show()}}$(function(){var c=new AdminInterface(),d=new NavBarInterface(),b=new GuiHandler();$("#"+e).click(function e(){if($(this).val()===_t(showAllUsers)){$("#admins-space-users").fadeIn();$(this).val(_t(hideAllUsers))}else{$("#admins-space-users").fadeOut();$(this).val(_t(showAllUsers))}});$("#"+listAllArgumentId).click(function a(){if($(this).val()===_t(showAllArguments)){if($("#"+adminsSpaceForArgumentsId).find("table").length==0){c.getArgumentOverview()}else{$("#"+listAllArgumentId).val(_t(hideAllArguments));$("#"+adminsSpaceForArgumentsId).fadeIn()}}else{$("#"+adminsSpaceForArgumentsId).fadeOut();$("#"+listAllArgumentId).val(_t(showAllArguments))}});$("#"+addTopicButtonId).click(function(){b.showAddTopicPopup(new InteractionHandler().callbackIfDoneForSendNewIssueTable)});$("#"+editIssueButtonId).click(function(){b.showEditIssuesPopup()});d.setUpLinks()});var canRunAds=true;function AjaxMainHandler(){this.ajaxSwitchDisplayLanguage=function(b){var a=$("#"+hiddenCSRFTokenId).val();$.ajax({url:"ajax_switch_language",type:"POST",data:{lang:b},dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function d(){location.reload(true);setPiwikOptOutLink(b)}).fail(function c(e){if(e.status==400){setGlobalErrorHandler(_t(ohsnap),_t(requestFailedBadToken))}else{if(e.status==500){setGlobalErrorHandler(_t(ohsnap),_t(requestFailedInternalError))}else{setGlobalErrorHandler(_t(ohsnap),_t(languageCouldNotBeSwitched))}}})};this.ajaxLogin=function(){var a=$("#"+hiddenCSRFTokenId).val();var b=$("#"+loginUserId).val(),d=$("#"+loginPwId).val(),c=window.location.href,f=$("#keep-login-box").prop("checked")?"true":"false";$.ajax({url:"ajax_user_login",type:"POST",data:{user:b,password:d,url:c,keep_login:f},dataType:"html",async:true,headers:{"X-CSRF-Token":a}}).done(function h(i){callbackIfDoneForLogin(i)}).fail(function g(i){if(i.status==200){location.reload(true)}else{if(i.status==302){location.href=i.getResponseHeader("Location")}else{if(i.status==400){$("#"+popupLoginFailed).show();$("#"+popupLoginFailed+"-message").text(_t(requestFailedBadToken))}else{if(i.status==500){$("#"+popupLoginFailed).show();$("#"+popupLoginFailed+"-message").text(_t(requestFailedInternalError))}else{$("#"+popupLoginFailed).show();$("#"+popupLoginFailed+"-message").text(_t(requestFailed))}}}}}).always(function e(){$("#"+loginPwId).val("")})};this.ajaxLogout=function(){var a=$("#"+hiddenCSRFTokenId).val();$.ajax({url:"ajax_user_logout",type:"POST",dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function c(d){location.reload()}).fail(function b(d){if(d.status==200){if(window.location.href.indexOf("settings")!=0){window.location.href=mainpage}else{location.reload()}}else{if(d.status==403){window.location.href=mainpage}else{location.reload()}}})};this.ajaxRegistration=function(){var d=$("#"+hiddenCSRFTokenId).val();var g=$("#userfirstname-input").val(),h=$("#userlastname-input").val(),f=$("#nick-input").val(),i=$("#email-input").val(),l=$("#"+popupLoginPasswordInputId).val(),c=$("#"+popupLoginPasswordconfirmInputId).val(),e=$("#popup-login-spamanswer-input").val(),j="";if($("#"+popupLoginInlineRadioGenderN).is(":checked")){j="n"}if($("#"+popupLoginInlineRadioGenderM).is(":checked")){j="m"}if($("#"+popupLoginInlineRadioGenderF).is(":checked")){j="f"}$.ajax({url:"ajax_user_registration",type:"POST",data:{firstname:g,lastname:h,nickname:f,gender:j,email:i,password:l,passwordconfirm:c,spamanswer:e,lang:getLanguage()},dataType:"json",async:true,headers:{"X-CSRF-Token":d}}).done(function b(m){callbackIfDoneForRegistration(m)}).fail(function a(m){$("#"+popupLoginRegistrationFailed).show();if(m.status==400){$("#"+popupLoginRegistrationFailed+"-message").text(_t(requestFailedBadToken))}else{if(m.status==500){$("#"+popupLoginRegistrationFailed+"-message").text(_t(requestFailedInternalError))}else{$("#"+popupLoginRegistrationFailed+"-message").text(_t(requestFailed))}}}).always(function k(){$("#"+popupLoginPasswordInputId).val("");$("#"+popupLoginPasswordconfirmInputId).val("")})};this.ajaxPasswordRequest=function(){var b=$("#password-request-email-input").val();var a=$("#"+hiddenCSRFTokenId).val();$.ajax({url:"ajax_user_password_request",type:"POST",data:{email:b,lang:getLanguage()},dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function d(e){callbackIfDoneForPasswordRequest(e)}).fail(function c(e){$("#"+popupLoginRegistrationFailed).show();if(e.status==400){$("#"+popupLoginRegistrationFailed+"-message").text(_t(requestFailedBadToken))}else{if(e.status==500){$("#"+popupLoginRegistrationFailed+"-message").text(_t(requestFailedInternalError))}else{$("#"+popupLoginRegistrationFailed+"-message").text(_t(requestFailed))}}})};this.ajaxRoundhouseKick=function(){var a=$("#"+hiddenCSRFTokenId).val();$.ajax({url:"additional_service",type:"GET",data:{type:"chuck"},global:false,async:true,headers:{"X-CSRF-Token":a}}).done(function b(c){if(c.type=="success"){displayConfirmationDialogWithoutCancelAndFunction("Chuck Norris Fact #"+c.value.id,"<h5>"+c.value.joke+'</h5>\n\n<span style="float:right;">powered by <a href="http://www.icndb.com/" target="_blank">http://www.icndb.com/</a></span>')}})};this.ajaxMama=function(){var a=$("#"+hiddenCSRFTokenId).val();$.ajax({url:"additional_service",type:"GET",data:{type:"mama"},global:false,async:true,headers:{"X-CSRF-Token":a}}).done(function b(c){displayConfirmationDialogWithoutCancelAndFunction("Yo Mamma","<h4>"+c.joke+'</h4>\n\n<span style="float:right;">powered by <a href="http://yomomma.info/">http://yomomma.info/</a></span>')})}}function AjaxDiscussionHandler(){this.sendNewPremiseForArgument=function(b,c,f){var a=$("#"+hiddenCSRFTokenId).val();$.ajax({url:"ajax_set_new_premises_for_argument",method:"POST",data:{arg_uid:b,attack_type:c,premisegroups:JSON.stringify(f)},dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function e(g){new InteractionHandler().callbackIfDoneForSendNewPremisesArgument(g)}).fail(function d(){setGlobalErrorHandler(_t_discussion(ohsnap),_t_discussion(requestFailed))})};this.sendNewStartPremise=function(f,b,e){var a=$("#"+hiddenCSRFTokenId).val();$.ajax({url:"ajax_set_new_start_premise",method:"POST",data:{premisegroups:JSON.stringify(f),conclusion_id:b,supportive:e},dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function d(g){new InteractionHandler().callbackIfDoneForSendNewStartPremise(g)}).fail(function c(){setGlobalErrorHandler(_t_discussion(ohsnap),_t_discussion(requestFailed))})};this.sendNewStartStatement=function(d){var a=$("#"+hiddenCSRFTokenId).val();$.ajax({url:"ajax_set_new_start_statement",method:"POST",data:{statement:d},dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function c(e){new InteractionHandler().callbackIfDoneForSendNewStartStatement(e)}).fail(function b(){setGlobalErrorHandler(_t_discussion(ohsnap),_t_discussion(requestFailed))})};this.sendNewIssue=function(e,f,g,b){var a=$("#"+hiddenCSRFTokenId).val();$("#add-topic-error").hide();$.ajax({url:"ajax_set_new_issue",method:"POST",data:{info:e,title:f,lang:g},dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function d(h){b(h)}).fail(function c(){$("#"+addTopicPopupErrorText).text(_t(requestFailed)+" ("+_t(errorCode)+" 9). "+_t(doNotHesitateToContact)+". ");$("#"+addTopicPopupContainer).show();new Helper().delay(function(){$("#"+addTopicPopupContainer).hide()},2500)})};this.getLogfileForStatement=function(d){var a=$("#"+hiddenCSRFTokenId).val();$.ajax({url:"ajax_get_logfile_for_statement",method:"GET",data:{uid:d,issue:new Helper().getCurrentIssueId()},dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function c(e){new InteractionHandler().callbackIfDoneForGettingLogfile(e)}).fail(function b(){$("#"+popupEditStatementErrorDescriptionId).html(_t(requestFailed)+" ("+_t(errorCode)+" 15). "+_t(doNotHesitateToContact)+". ")})};this.sendCorrectureOfStatement=function(c,f,b){var a=$("#"+hiddenCSRFTokenId).val();$.ajax({url:"ajax_set_correcture_of_statement",method:"POST",data:{uid:c,text:f,url:window.location.href},dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function e(g){new InteractionHandler().callbackIfDoneForSendCorrectureOfStatement(g,b)}).fail(function d(){$("#"+popupEditStatementErrorDescriptionId).html(_t(requestFailed)+" ("+_t(errorCode)+" 13). "+_t(doNotHesitateToContact)+". ")})};this.getShortenUrl=function(d){var c=encodeURI(d);var a=$("#"+hiddenCSRFTokenId).val();$.ajax({url:"ajax_get_shortened_url",method:"GET",dataType:"json",data:{url:c,issue:new Helper().getCurrentIssueId()},async:true,headers:{"X-CSRF-Token":a}}).done(function b(f){new InteractionHandler().callbackIfDoneForShortenUrl(f,d)}).fail(function e(){setGlobalErrorHandler(_t_discussion(ohsnap),_t_discussion(requestFailed));new GuiHandler().hideAndClearUrlSharingPopup()})};this.getMoreInfosAboutArgument=function(d){var a=$("#"+hiddenCSRFTokenId).val();$.ajax({url:"ajax_get_infos_about_argument",method:"POST",data:{uid:d,lang:$("#issue-info").data("discussion-language")},dataType:"json",headers:{"X-CSRF-Token":a}}).done(function c(e){new InteractionHandler().callbackIfDoneForGettingInfosAboutArgument(e)}).fail(function b(){setGlobalErrorHandler(_t_discussion(ohsnap),_t_discussion(requestFailed))})};this.getMoreInfosAboutOpinion=function(h,i,c,a){var j=h=="argument",f=h=="position"||h=="statement",g=i=="None"?c:i,e=$("#"+hiddenCSRFTokenId).val();$.ajax({url:"ajax_get_user_with_same_opinion",method:"GET",data:{is_argument:j,uids:g,is_position:f,is_supporti:a,lang:$("#issue_info").data("discussion-language")},dataType:"json",headers:{"X-CSRF-Token":e}}).done(function d(k){new InteractionHandler().callbackIfDoneForGettingMoreInfosAboutOpinion(k,j)}).fail(function b(){setGlobalErrorHandler(_t_discussion(ohsnap),_t_discussion(requestFailed))})};this.fuzzySearch=function(i,l,g,b){var k=$("#"+l),a='<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>',m=l.split("-").length==6?l.split("-")[5]:"0",f=$("#"+discussionBubbleSpaceId),c=$("#"+hiddenCSRFTokenId).val();if(k.val().length==0){$("#"+proposalStatementListGroupId).empty();$("#"+proposalPremiseListGroupId).empty();$("#"+proposalEditListGroupId).empty();$("#"+proposalUserListGroupId).empty();$('p[id^="current_"]').each(function(){$(this).parent().remove()});return}if(g!=fuzzy_find_user){if(g!=fuzzy_statement_popup){if(f.find("#current_"+m).length==0){var j=$("<p>").addClass("triangle-r").attr("id","current_"+m).html(i+"..."+a),e=$("<div>").addClass("line-wrapper-r").append(j).hide().fadeIn();e.insertAfter(f.find("div:last-child"));setInterval(function(){$(".glyphicon-pencil").fadeTo("slow",0.2,function(){$(".glyphicon-pencil").fadeTo("slow",1,function(){})})},1000)}else{$("#current_"+m).html(i+"..."+a)}}new GuiHandler().setMaxHeightForBubbleSpace()}$.ajax({url:"ajax_fuzzy_search",method:"GET",dataType:"json",data:{value:i,type:g,extra:b,issue:new Helper().getCurrentIssueId()},async:true,global:false,headers:{"X-CSRF-Token":c}}).done(function h(n){new InteractionHandler().callbackIfDoneFuzzySearch(n,l,g)}).fail(function d(){setGlobalErrorHandler(_t_discussion(ohsnap),_t_discussion(requestFailed))});k.focus()}}function AjaxUserHandler(){this.getPublicUserData=function(){var a=$("#"+hiddenCSRFTokenId).val();$.ajax({url:"ajax_get_public_user_data",method:"GET",data:{nickname:$("#public_nick").text()},dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function c(d){new User().callbackDone(d)}).fail(function b(){setGlobalErrorHandler(_t_discussion(ohsnap),_t_discussion(requestFailed))})}}function AjaxNewsHandler(){this.ajaxGetNews=function(){var c=$("#"+hiddenCSRFTokenId).val();$.ajax({url:"ajax_get_news",type:"POST",dataType:"json",async:true,headers:{"X-CSRF-Token":c}}).done(function b(d){new News().callbackIfDoneForGettingNews(d)}).fail(function a(){setGlobalErrorHandler(_t_discussion(ohsnap),_t_discussion(requestFailed))})};this.ajaxSendNews=function(){var e=$("#"+writingNewNewsTitleId).val();var d=$("#"+writingNewNewsTextId).val();if(e.length==0||d.length<10){$("#"+writingNewsFailedId).show();$("#"+writingNewsFailedMessageId).text(_t(empty_news_input));new Helper().delay(function(){$("#"+writingNewsFailedId).fadeOut();new Helper().delay(function(){$("#"+writingNewsFailedMessageId).text("")},2000)},2000);return}else{$("#"+writingNewsFailedId).hide();$("#"+writingNewsSuccessId).hide()}var a=$("#"+hiddenCSRFTokenId).val();$.ajax({url:"ajax_send_news",type:"POST",data:{title:e,text:d},dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function c(f){new News().callbackIfDoneForSendingNews(f)}).fail(function b(){$("#"+writingNewsFailedId).show();$("#"+writingNewsFailedMessageId).html(_t(internalError))})}}function AjaxSettingsHandler(){this.getUserHistoryData=function(){var a=$("#hidden_csrf_token").val();$.ajax({url:"ajax_get_user_history",method:"GET",dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function c(d){new HistoryHandler().getUserHistoryDataDone(d)}).fail(function b(d){new HistoryHandler().getDataFail(d.status)})};this.deleteUserHistoryData=function(){var a=$("#hidden_csrf_token").val();$.ajax({url:"ajax_delete_user_history",method:"POST",dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function c(d){new HistoryHandler().removeUserHistoryDataDone(d)}).fail(function b(d){new HistoryHandler().getDataFail(d.status)})};this.setUserSetting=function(e,b){var f=e.prop("checked");var a=$("#hidden_csrf_token").val();$.ajax({url:"ajax_set_user_setting",method:"POST",data:{settings_value:f?"True":"False",service:b},dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function d(g){new SettingsHandler().callbackDone(g,e,f,b)}).fail(function c(){new SettingsHandler().callbackFail(e,f,b)})};this.setNotifcationLanguage=function(d){var a=$("#hidden_csrf_token").val();$.ajax({url:"ajax_set_user_language",method:"POST",data:{ui_locales:d},dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function c(e){var f=$.parseJSON(e);if(f.error.length==0){$("#"+settingsSuccessDialog).fadeIn();new Helper().delay(function(){$("#"+settingsSuccessDialog).fadeOut()},3000);$.each($("#settings-language-dropdown").find("li"),function(){$(this).removeClass("active")});$.each($("#current-lang-images").find("img"),function(){$(this).hide()});$("#link-settings-"+f.ui_locales).addClass("active");$("#indicator-"+f.ui_locales).show();$("#current-lang-images span").eq(0).text(f.current_lang)}else{$("#"+settingsAlertDialog).fadeIn();new Helper().delay(function(){$("#"+settingsAlertDialog).fadeOut()},3000)}}).fail(function b(){$("#"+settingsAlertDialog).fadeIn();new Helper().delay(function(){$("#"+settingsAlertDialog).fadeOut()},3000)})};this.getEditsDone=function(){if($("#"+editsDoneCountId).text()=="0"){new StatisticsHandler().callbackStatisticsFail(_t(statisticsNotThere));return}var a=$("#hidden_csrf_token").val();$.ajax({url:"ajax_get_all_edits",method:"GET",dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function c(d){new StatisticsHandler().callbackGetStatisticsDone(d,_t(allEditsDone),false)}).fail(function b(){new StatisticsHandler().callbackStatisticsFail(_t(statisticsNotFetched))})};this.getStatementsSend=function(){if($("#"+statementsDoneCountId).text()=="0"){new StatisticsHandler().callbackStatisticsFail(_t(statisticsNotThere));return}var a=$("#hidden_csrf_token").val();$.ajax({url:"ajax_get_all_posted_statements",method:"GET",dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function c(d){new StatisticsHandler().callbackGetStatisticsDone(d,_t(allStatementsPosted),false)}).fail(function b(){new StatisticsHandler().callbackStatisticsFail(_t(statisticsNotFetched))})};this.getArgumentVotes=function(){if($("#"+discussionArgVoteCountId).text()=="0"){new StatisticsHandler().callbackStatisticsFail(_t(statisticsNotThere));return}var a=$("#hidden_csrf_token").val();$.ajax({url:"ajax_get_all_argument_votes",method:"GET",dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function c(d){new StatisticsHandler().callbackGetStatisticsDone(d,_t(allGivenVotes),true)}).fail(function b(){new StatisticsHandler().callbackStatisticsFail(_t(statisticsNotFetched))})};this.getStatementVotes=function(){if($("#"+discussionStatVoteCountId).text()=="0"){new StatisticsHandler().callbackStatisticsFail(_t(statisticsNotThere));return}var a=$("#hidden_csrf_token").val();$.ajax({url:"ajax_get_all_statement_votes",method:"GET",dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function c(d){new StatisticsHandler().callbackGetStatisticsDone(d,_t(allGivenVotes),true)}).fail(function b(){new StatisticsHandler().callbackStatisticsFail(_t(statisticsNotFetched))})};this.deleteStatisticsRequest=function(){var a=$("#hidden_csrf_token").val();$.ajax({url:"ajax_delete_statistics",method:"GET",dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function c(d){new StatisticsHandler().callbackDeleteStatisticsDone(d)}).fail(function b(){new StatisticsHandler().callbackStatisticsFail()})}}function AjaxNotificationHandler(){this.sendAjaxForReadMessage=function(e,d){new Notifications().hideInfoSpaces();var a=$("#"+hiddenCSRFTokenId).val();$.ajax({url:"ajax_notification_read",method:"POST",data:{id:e},dataType:"json",headers:{"X-CSRF-Token":a}}).done(function c(h){var i=$.parseJSON(h);if(i.error.length>0){setGlobalErrorHandler(_t_discussion(ohsnap),i.error)}else{var g=$(d).text().replace(_t(neww).toLocaleUpperCase(),"").trim();var f=$("<span>").addClass("text-primary").text(g);$(d).empty().html(f);$("#collapse"+e).addClass("in");new Notifications().setNewBadgeCounter(i.unread_messages)}}).fail(function b(){setGlobalErrorHandler(_t_discussion(ohsnap),_t_discussion(requestFailed))})};this.sendAjaxForDeleteMessage=function(d){new Notifications().hideInfoSpaces();var a=$("#"+hiddenCSRFTokenId).val();$.ajax({url:"ajax_notification_delete",method:"POST",data:{id:d},dataType:"json",headers:{"X-CSRF-Token":a}}).done(function c(e){var f=$.parseJSON(e);if(f.success.length>0){$("#"+d).remove();new Notifications().setNewBadgeCounter(f.unread_messages);$("#total_in_counter").text(f.total_in_messages);$("#total_out_counter").text(f.total_out_messages);setGlobalSuccessHandler("",f.success)}else{setGlobalErrorHandler(_t_discussion(ohsnap),f.error)}}).fail(function b(){setGlobalErrorHandler(_t_discussion(ohsnap),_t_discussion(requestFailed))})};this.sendNotification=function(d){var f=$("#popup-writing-notification-title").val(),e=$("#popup-writing-notification-text").val();var a=$("#"+hiddenCSRFTokenId).val();$("#popup-writing-notification-success").hide();$("#popup-writing-notification-failed").hide();$.ajax({url:"ajax_send_notification",type:"POST",data:{title:f,text:e,recipient:d},dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function c(g){var h=$.parseJSON(g);if(h.error.length==0){$("#popup-writing-notification-success").show();$("#popup-writing-notification-success-message").text(_t(notificationWasSend));var i=$("#total_out_counter");i.text(" "+(parseInt(i.text())+1)+" ");new Notifications().appendMessageInOutbox(d,h.recipient_avatar,f,e,h.timestamp,h.uid)}else{$("#popup-writing-notification-failed").show();$("#popup-writing-notification-failed-message").html(h.error)}}).fail(function b(){$("#popup-writing-notification-failed").show();$("#popup-writing-notification-failed-message").html(_t(internalError))})}}function AjaxGraphHandler(){this.getUserGraphData=function(b,d){var c;var a=$("#"+hiddenCSRFTokenId).val();switch(d){case"attitude":c={is_argument:"false",is_attitude:"true",is_reaction:"false",is_position:"false",uids:b};break;case"justify":c={is_argument:"false",is_attitude:"false",is_reaction:"false",is_position:"false",uids:JSON.stringify(b)};break;case"argument":c={is_argument:"true",is_attitude:"false",is_reaction:"true",is_position:"false",uids:JSON.stringify(b)};break;case"position":c={is_argument:"false",is_attitude:"false",is_reaction:"false",is_position:"true",uids:JSON.stringify(b)}}c.lang=$("#issue_info").data("discussion-language");$.ajax({url:"ajax_get_user_with_same_opinion",type:"GET",dataType:"json",data:c,async:true,headers:{"X-CSRF-Token":a}}).done(function(e){new DiscussionBarometer().callbackIfDoneForGetDictionary(e,d)}).fail(function(){new DiscussionBarometer().callbackIfFailForGetDictionary()})};this.getDiscussionGraphData=function(a){$.ajax({url:a,type:"GET",dataType:"json",data:{issue:new Helper().getCurrentIssueId()},async:true}).done(function(b){new DiscussionGraph().callbackIfDoneForDiscussionGraph(b)}).fail(function(){setGlobalErrorHandler(_t_discussion(ohsnap),_t_discussion(requestFailed))})}};function setLinkActive(a){$("#navbar-right").find(">li").each(function(){$(this).removeClass("active")});$(a).addClass("active")}function jmpToChapter(){$('a[href^="#"]').on("click",function(c){try{var a=$(this).attr("href");$("html, body").animate({scrollTop:($(a).offset().top-100)},"slow");c.preventDefault()}catch(b){}})}function goBackToTop(){$(window).scroll(function(){if(jQuery(this).scrollTop()>500){$(".back-to-top").fadeIn("slow");setTimeout(function(){$(".back-to-top").fadeOut("slow")},2500)}else{$(".back-to-top").fadeOut("slow")}});$(".back-to-top").click(function(a){a.preventDefault();$("html, body").animate({scrollTop:0},500);return false})}function changeBackgroundOnScroll(){$(window).scroll(function(){if(jQuery(this).scrollTop()>10){$("#custom-bootstrap-menu").removeClass("navbar-transparent")}else{$("#custom-bootstrap-menu").addClass("navbar-transparent")}})}function displayConfirmationDialog(a,c,b){$("#"+popupConfirmDialogId).modal("show");$("#"+popupConfirmDialogId+" h4.modal-title").text(a);$("#"+popupConfirmDialogId+" div.modal-body").html(c);$("#"+popupConfirmDialogAcceptBtn).show().click(function(){$("#"+popupConfirmDialogId).modal("hide");b()});$("#"+popupConfirmDialogRefuseBtn).show().click(function(){$("#"+popupConfirmDialogId).modal("hide")})}function displayConfirmationDialogWithoutCancelAndFunction(a,b){$("#"+popupConfirmDialogId).modal("show");$("#"+popupConfirmDialogId+" h4.modal-title").html(a);$("#"+popupConfirmDialogId+" div.modal-body").html(b);$("#"+popupConfirmDialogAcceptBtn).show().click(function(){$("#"+popupConfirmDialogId).modal("hide").find(".modal-dialog").removeClass("modal-sm")}).removeClass("btn-success");$("#"+popupConfirmDialogRefuseBtn).hide()}function displayConfirmationDialogWithCheckbox(a,e,d,c,b){if(new Helper().isCookieSet(WARNING_CHANGE_DISCUSSION_POPUP)){window.location.href=c}else{$("#"+popupConfirmChecbkoxDialogId).modal("show");$("#"+popupConfirmChecbkoxDialogId+" h4.modal-title").text(a);$("#"+popupConfirmChecbkoxDialogId+" div.modal-body").html(e);$("#"+popupConfirmChecbkoxDialogTextId).text(d);$("#"+popupConfirmChecbkoxDialogAcceptBtn).click(function(){$("#"+popupConfirmChecbkoxDialogId).modal("hide");if($("#"+popupConfirmChecbkoxId).prop("checked")){new Helper().setCookieForDays(WARNING_CHANGE_DISCUSSION_POPUP,7,true)}if(b){window.location.href=c}else{c()}});$("#"+popupConfirmChecbkoxDialogRefuseBtn).click(function(){$("#"+popupConfirmChecbkoxDialogId).modal("hide")})}}function displayBubbleInformationDialog(){if(!new Helper().isCookieSet(BUBBLE_INFOS)){var a=$("<img>").attr("src","../static/images/explanation_bubbles_"+($(document).width()>992?"long":"short")+".png");$("#"+popupConfirmDialogId).modal("show");$("#"+popupConfirmDialogId+" .modal-dialog").attr("style","width: "+($(document).width()>992?"430":"200")+"px;");$("#"+popupConfirmDialogId+" h4.modal-title").html("Introduction");$("#"+popupConfirmDialogId+" div.modal-body").html(a);$("#"+popupConfirmDialogAcceptBtn).show().click(function(){$("#"+popupConfirmDialogId).modal("hide");new Helper().setCookieForDays(BUBBLE_INFOS,30,true)}).removeClass("btn-success");$("#"+popupConfirmDialogRefuseBtn).hide()}}function setPiwikOptOutLink(b){var a=mainpage+"piwik/index.php?module=CoreAdminHome&action=optOut&idsite=1&language=";if(b==="de"){a+="de"}else{a+="en"}$("#piwik-opt-out-iframe").attr("src",a)}function setEasterEggs(){$("#roundhousekick").click(function(){new AjaxMainHandler().ajaxRoundhouseKick()});if(window.location.href==mainpage){}$("#dbas-logo").click(function(){var a=parseInt($(this).data("counter"));a+=1;if(a==7){$(this).attr("src",mainpage+"static/images/dabas.png");$("body").find("span").each(function(){$(this).text(dolan_translate(dolan_dictionary,$(this).text()))});$(".popup_author_img").attr("src",mainpage+"static/images/dolan.png").css("width","150%")}$(this).data("counter",a)})}function hideExtraViewsOfLoginPopup(){$("#"+popupLoginWarningMessage).hide();$("#"+popupLoginFailed).hide();$("#"+popupLoginSuccess).hide();$("#"+popupLoginInfo).hide();$("#"+popupLoginRegistrationSuccess).hide();$("#"+popupLoginRegistrationFailed).hide();$("#"+popupLoginRegistrationInfo).hide();$("#"+popupLoginButtonRegister).hide();$("#"+popupLoginButtonLogin).hide();$("#"+popupLoginForgotPasswordBody).hide();$("#"+generatePasswordBodyId).hide()}function prepareLoginRegistrationPopup(){var a=$("#"+popupLoginGeneratePasswordBodyId);hideExtraViewsOfLoginPopup();a.hide();$(".tab-login a").on("click",function(d){d.preventDefault();$(this).parent().addClass("active");$(this).parent().siblings().removeClass("active");var c=$(this).attr("href");$(".tab-content > div").not(c).hide();$(c).fadeIn(600);if($(this).attr("href").indexOf("signup")!=-1){$("#"+popupLoginButtonLogin).hide();$("#"+popupLoginButtonRegister).show()}else{$("#"+popupLoginButtonLogin).show();$("#"+popupLoginButtonRegister).hide()}});$("#"+popupLoginButtonLogin).show().click(function(){new AjaxMainHandler().ajaxLogin()}).keypress(function(c){if(c.which==13){new AjaxMainHandler().ajaxRegistration()}});$("#"+popupLoginForgotPasswordText).click(function(){var c=$("#"+popupLoginForgotPasswordBody);if(c.is(":visible")){c.fadeOut();$("#"+popupLoginForgotPasswordText).text(_t(forgotPassword)+"?");$("#"+popupLoginFailed).fadeOut();$("#"+popupLoginSuccess).fadeOut();$("#"+popupLoginInfo).fadeOut()}else{c.fadeIn();$("#"+popupLoginForgotPasswordText).text(_t(hidePasswordRequest))}});$("#"+popupLoginGeneratePassword+" > a").click(function(){if(a.is(":visible")){a.hide();$("#"+popupLoginGeneratePassword+" > a span").text(_t(generateSecurePassword))}else{a.show();$("#"+popupLoginGeneratePassword+" > a span").text(_t(hideGenerator))}});$("#"+popupLoginCloseButton).click(function(){hideExtraViewsOfLoginPopup();$("#"+popupLogin).modal("hide");$("#"+popupLoginButtonLogin).show()});$("#"+popupLoginPasswordInputId).keyup(function b(){new PasswordHandler().check_strength($("#"+popupLoginPasswordInputId),$("#"+popupLoginPasswordMeterId),$("#"+popupLoginPasswordStrengthId),$("#"+popupLoginPasswordExtrasId))});$("#"+popupLoginButtonRegister).click(function(){var g=$("#"+popupLoginUserfirstnameInputId).val(),j=$("#"+popupLoginUserlastnameInputId).val(),c=$("#"+popupLoginNickInputId).val(),h=$("#"+popupLoginEmailInputId).val(),l=$("#"+popupLoginPasswordInputId).val(),d=$("#"+popupLoginPasswordconfirmInputId).val(),m="",e,f=[g,j,c,h,l,d],k=[_t(checkFirstname),_t(checkLastname),_t(checkNickname),_t(checkEmail),_t(checkPassword),_t(checkConfirmation),_t(checkPasswordConfirm)];for(e=0;e<f.length;e++){if(!f[e]||/^\s*$/.test(f[e])||0===f[e].length){m=k[e];break}}if(m==""){$("#"+popupLoginWarningMessage).hide();new AjaxMainHandler().ajaxRegistration()}else{$("#"+popupLoginWarningMessage).fadeIn("slow");$("#"+popupLoginWarningMessageText).text(m)}});$("#"+loginUserId).keypress(function(c){if(c.which==13){new AjaxMainHandler().ajaxLogin()}});$("#"+loginPwId).keypress(function(c){if(c.which==13){new AjaxMainHandler().ajaxLogin()}});$("#"+popupLoginUserfirstnameInputId).keypress(function(c){if(c.which==13){new AjaxMainHandler().ajaxRegistration()}});$("#"+popupLoginUserlastnameInputId).keypress(function(c){if(c.which==13){new AjaxMainHandler().ajaxRegistration()}});$("#"+popupLoginNickInputId).keypress(function(c){if(c.which==13){new AjaxMainHandler().ajaxRegistration()}});$("#"+popupLoginEmailInputId).keypress(function(c){if(c.which==13){new AjaxMainHandler().ajaxRegistration()}});$("#"+popupLoginPasswordconfirmInputId).keypress(function(c){if(c.which==13){new AjaxMainHandler().ajaxRegistration()}});$("#"+popupLoginButtonRequest).click(function(){new AjaxMainHandler().ajaxPasswordRequest()})}function setTextWatcherForMinLength(a){var e=a.val().trim();var d=parseInt(a.data("min-length")-e.length);var f=a.attr("id")+"-text-min-counter";var c=_t_discussion(textMinCountMessage1)+" "+d+" "+_t_discussion(textMinCountMessage2);var b=$("#"+f);if(d>0){if(b.length>0){console.log("a1");b.text(c)}else{console.log("a2");$("<span>").text(c).attr("id",f).addClass("text-min-counter-input").insertBefore(a)}}else{if(b.length>0){console.log("a3");b.remove()}console.log("a4")}}function setTextWatcherForMaxLength(a){var e=a.val().trim();var d=parseInt(a.data("max-length")-e.length);var f=a.attr("id")+"-text-max-counter";var c=_t_discussion(textMaxCountMessage);var b=$("#"+f);if(d<0){if(b.length>0){b.text(c)}else{$("<span>").text(c).attr("id",f).addClass("text-max-counter-input").insertBefore(a)}}else{if(b.length>0){b.remove()}}}function setGlobalErrorHandler(b,a){$("#"+requestFailedContainer).fadeIn();$("#"+requestFailedContainerClose).click(function(){$("#"+requestFailedContainer).fadeOut()});$("#"+requestFailedContainerHeading).html(b);$("#"+requestFailedContainerMessage).html(a);new Helper().delay(function(){$("#"+requestFailedContainer).fadeOut()},5000)}function setGlobalSuccessHandler(b,a){$("#"+requestSuccessContainer).fadeIn();$("#"+requestSuccessContainerClose).click(function(){$("#"+requestSuccessContainer).fadeOut()});$("#"+requestSuccessContainerHeading).html(b);$("#"+requestSuccessContainerMessage).html(a);new Helper().delay(function(){$("#"+requestSuccessContainer).fadeOut()},5000)}function setGlobalInfoHandler(b,a){$("#"+requestInfoContainer).fadeIn();$("#"+requestInfoContainerClose).click(function(){$("#"+requestInfoContainer).fadeOut()});$("#"+requestInfoContainerHeading).html(b);$("#"+requestInfoContainerMessage).html(a);new Helper().delay(function(){$("#"+requestInfoContainer).fadeOut()},5000)}function callbackIfDoneForLogin(d){try{var b=$.parseJSON(d);if(b.error.length!=0){$("#"+popupLoginFailed).show();$("#"+popupLoginFailed+"-message").text(b.error)}else{$("#"+popupLogin).modal("hide");location.reload(true)}}catch(c){var a=location.href;if(a.indexOf("?session_expired=true")!=-1){a=a.substr(0,a.length-"?session_expired=true".length)}location.href=a}}function callbackIfDoneForRegistration(b){var e=$.parseJSON(b);var d=$("#"+popupLoginSuccess);var a=$("#"+popupLoginRegistrationFailed);var c=$("#"+popupLoginRegistrationInfo);d.hide();a.hide();c.hide();if(e.success.length>0){$('a[href="#login"]').trigger("click");d.show();$("#"+popupLoginSuccess+"-message").text(e.success)}if(e.error.length>0){a.show();$("#"+popupLoginRegistrationFailed+"-message").text(e.error)}if(e.info.length>0){c.show();$("#"+popupLoginRegistrationInfo+"-message").text(e.info);$("#popup-login-spamanswer-input").attr("placeholder",e.spamquestion).val("")}}function callbackIfDoneForPasswordRequest(b){var e=$.parseJSON(b);var d=$("#"+popupLoginSuccess);var a=$("#"+popupLoginFailed);var c=$("#"+popupLoginInfo);d.hide();a.hide();c.hide();if(e.success.length>0){$("#"+popupLoginForgotPasswordBody).hide();$("#"+popupLoginForgotPasswordText).text(_t(forgotPassword)+"?");d.show();$("#"+popupLoginSuccess+"-message").text(e.success)}if(e.error.length>0){a.show();$("#"+popupLoginFailed+"-message").text(e.error)}if(e.info.length>0){c.show();$("#"+popupLoginInfo+"-message").text(e.info)}}$(document).ready(function(){var a=window.location.href,c=$("#hidden_language").val();jmpToChapter();goBackToTop();setPiwikOptOutLink(c);setEasterEggs();if(a.indexOf(urlContact)!=-1){setLinkActive("#"+contactLink);$("#"+navbarLeft).hide()}else{if(a.indexOf(urlLogin)!=-1){setLinkActive("#"+loginLinkId);$("#"+navbarLeft).hide()}else{if(a.indexOf(urlNews)!=-1){setLinkActive("#"+newsLink);$("#"+navbarLeft).hide()}else{if(a.indexOf(urlContent)!=-1){setLinkActive("#"+contentLink);$("#"+navbarLeft).hide()}else{if(a.indexOf(urlReview)!=-1){setLinkActive("#"+reviewLinkId);$("#"+navbarLeft).hide()}else{if(a.indexOf(urlSettings)!=-1||a.indexOf(urlImprint)!=-1||a.indexOf(urlLogout)!=-1){$("#"+navbarLeft).hide()}else{setLinkActive("");$("#"+navbarLeft).show()}}}}}}$("#"+translationLinkDe).click(function(){new AjaxMainHandler().ajaxSwitchDisplayLanguage("de")});$("#"+translationLinkEn).click(function(){new AjaxMainHandler().ajaxSwitchDisplayLanguage("en")});$("#"+translationLinkDe+" img").click(function(){new AjaxMainHandler().ajaxSwitchDisplayLanguage("de")});$("#"+translationLinkEn+" img").click(function(){new AjaxMainHandler().ajaxSwitchDisplayLanguage("en")});$("#"+logoutLinkId).click(function(f){f.preventDefault();new AjaxMainHandler().ajaxLogout()});prepareLoginRegistrationPopup();$(function(){$("body").tooltip({selector:"[data-toggle=tooltip]"})});$(document).on({ajaxStart:function b(){setTimeout("$('body').addClass('loading')",0)},ajaxStop:function d(){setTimeout("$('body').removeClass('loading')",0)}});$("input[data-min-length]").each(function(){$(this).keyup(function(){setTextWatcherForMinLength($(this))});$(this).focusin(function(){setTextWatcherForMinLength($(this))})});$("textarea[data-min-length]").each(function(){$(this).keyup(function(){setTextWatcherForMinLength($(this))});$(this).focusin(function(){setTextWatcherForMinLength($(this))})});if($("#"+sessionExpiredContainer).length==1){new Helper().delay(function(){$("#"+sessionExpiredContainer).fadeOut()},3000)}});$(document).ready(function(){$("#alert-message").hide();$("#warning-message").hide();$("#contact-submit").onclick=function(){var e=$("#name-input").val(),b=$("#phone-input").val(),d=$("#email-input").val(),g=$("#message-input").val(),f=$("#spam-input").val();var c=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i,a=c.test(d);if(!e||/^\s*$/.test(e)||0===e.length){$("#alert-message").hide();$("#warning-message").show();$("#warning-message-text").text("Better check your name, because the input is empty!")}else{if(!a){$("#alert-message").hide();$("#warning-message").show();$("#warning-message-text").text("Better check your e-mail, because it is not valid!")}else{if(!g||/^\s*$/.test(g)||g.length<5){$("#alert-message").hide();$("#warning-message").show();$("#warning-message-text").text("Better check your message, because the input is too short!")}else{$("#warning-message").hide();if(f!==4){$("#alert-message").show()}else{$("#alert-message").hide()}}}}}});"use strict";function dolan_translate(f,e){var d,b,a,c;d=e;for(a in f){b=f[a][Math.floor(Math.random()*f[a].length)];c=new RegExp("\\b("+a+")\\b","gi");d=d.replace(c,b)}return d}var dolan_dictionary={about:["abt","abot"],above:["aboev"],accept:["acept"],actually:["accualy","acuali","accually"],addicted:["adikted"],addict:["adikt"],after:["aftr"],again:["egen","agen"],all:["al"],allergic:["allergicc"],america:["amerika"],anal:["anl"],and:["nd","n"],anger:["angr","angrey"],animal:["animel"],anniversary:["anibersary"],anus:["anis"],april:["aprel"],are:["r","ar"],ashley:["sexai bish"],avengers:["avengars"],awesome:["awsum"],argumentation:["agrumentatin"],bacon:["bacons"],bail:["belz"],bastard:["besterd"],bat:["btat"],batman:["btmn"],beautiful:["baetuiful"],because:["cuz","bcuz","bcus"],bed:["bedd"],beer:["bier"],before:["befo","bfur","befur","bfare","bfor"],better:["beter","beder"],birth:["birt","brth"],birthday:["byrthdayz","burfdy","birfday"],bitch:["betch"],block:["blok"],blocked:["blokd"],black:["bleck","blaek"],blood:["blud"],blow:["blw"],bobman:["bbmen"],boobs:["bewbz"],boys:["bois"],brain:["brean"],brick:["brik"],bro:["bor"],bugs:["bogs"],broken:["boerkn"],brother:["brotr","brthr"],bucks:["bukz"],builder:["buildr","bulder"],bumholes:["bumholez"],business:["businss","biznus"],busy:["busi"],buttsex:["bhutt secks"],based:["buhsed"],cake:["kake"],can:["caen"],cancer:["cansor","cansur"],candle:["cnadl","candel"],cant:["ctan"],"can't":["ca'nt","cant","ctan"],care:["caret"],carrot:["karot"],cash:["kash"],cat:["kat"],cause:["cuz"],center:["centar"],change:["chanj"],checkup:["chekup"],chicken:["chikn"],"chill pill":["chilpil"],"chill pills":["chilpils"],chocolade:["chocolat"],chrome:["cohrme"],chuck:["chak"],cigarette:["cigrete"],clown:["clauwn"],"come on":["cum on"],come:["coem"],conspiracy:["cnspaercy"],contex:["cntex"],cooking:["cuking"],copyright:["copyrites"],couch:["cuch"],could:["cud"],crash:["crehs"],created:["crated"],crying:["criyin"],cupcake:["cupcaek"],cupcakes:["cupcaeks"],cute:["cuet"],dammit:["demmit"],damn:["dayum","demn"],date:["dayte","dait"],dead:["ded"],"D-BAS":["DaBaS_minus"],delicious:["dlishus"],die:["dei","dy"],dinner:["dinnr","dner"],disney:["dosni"],divide:["deviding"],"do":["dew","do"],doctor:["docte"],"doesn't":["dsnt"],dollar:["dolar"],dollars:["dolars"],"don't know":["dunno"],"don't":["dunt","doent","dnot"],donald:["dolan"],"double":["duble"],dream:["drem"],drinking:["drinkig"],drunk:["dronk"],dialog:["dualig"],egg:["eg"],eggs:["egs"],eleven:["elven"],enjoy:["enjoi","njoi"],entire:["entrire"],ever:["evur","evir"],"every time":["evrytim"],everyone:["evryon"],"every thing":["evryting","everiting","everyting"],everything:["evryting","everiting","everyting"],everytime:["evrytim"],examination:["examnashun"],evil:["evul","evel"],exist:["exeest"],eyeballs:["eyebals"],eyes:["eeys"],faggot:["feget","faggat","fgt"],famous:["famus"],feedback:["fidbuck"],"finally":["finully"],finger:["fingor"],fire:["fier"],floor:["flour","flur"],flower:["flowa"],fools:["fules"],"for":["fer","fur","four","4"],forgot:["frogot"],friend:["frend","flend"],from:["frem"],fuck:["fak","faq","fk","fek","feq","fuk","fck"],fucking:["fakn","fakin","fukin","fukn"],funny:["funey","fany","funnay"],game:["gaem","gaym"],garden:["gurden"],gasoline:["gaseline"],gay:["gya"],gee:["g"],gentlemen:["gntelmen"],get:["git","get"],girlfriend:["grilfrend"],glory:["glroy"],god:["gawd"],godbrother:["gdbrthr"],golf:["gorf"],"going to":["gunna","gona"],gonna:["gunna","gona"],good:["gud"],goofy:["gooby"],got:["gawt"],guess:["gess"],guy:["gui","guy"],guys:["guise"],hand:["hamd"],happened:["hapnd"],happening:["hapenin"],happiest:["hapiest"],happy:["hapy","hapy"],hate:["haet"],hating:["heatin"],have:["has","haz","haev","heiv","hav"],"haven't":["havn"],he:["hi"],heart:["hert"],hello:["hlelo"],help:["halp"],here:["heer","hur"],high:["hi"],hijack:["hijak"],hipster:["hpistr"],how:["how","hw"],i:["ei","i","ai"],"i'm":["im"],"i am":["im"],idea:["idia"],idgaf:["igaf"],idiot:["idoit","edeot","ideot"],idk:["kdi"],"in a car":["incar"],"in":["n"],inception:["inceptyon"],is:["es","iz"],islam:["izlam"],it:["et"],jesus:["jizzus","jzuz"],jewelry:["jewlry"],juice:["jewce"],juicy:["joocy"],just:["juts"],karagon:["karafap","kragon"],keep:["keip","kepe"],kids:["keds"],kill:["kel","kil"],kingdom:["kendum"],knwo:["kno"],language:["lungage"],later:["laytor"],"let's":["lest","les","lez"],life:["lif","liyfe","lyfe"],like:["leik","lyk","lik","liek"],"linkin park":["link park"],lisa:["lis"],live:["liv"],lol:["lul"],"long":["lnog"],look:["luk","lok"],looks:["loks","luks"],lost:["losd"],love:["luv"],make:["maek","mak"],married:["marreyd"],masterbate:["fap"],matter:["maddr"],may:["mey"],mcdonalds:["mcdolanz"],me:["meh"],meanwhile:["maenwihle"],medicine:["medsin"],metal:["mteal"],mexican:["border jumper"],minecraft:["minkreft"],minute:["minit","minut"],modern:["modurn"],modernest:["modurnest"],moment:["momunt"],mona:["muna"],mister:["mistur"],ministry:["minstri"],monster:["menstr"],monthly:["monfly"],moralfag:["morelfeg","mrlfeg"],more:["mor","moar"],motherfucker:["motrfukr","motrfuker","motrfakr","motrfaker","mtherfukr","mtherfuker","mtherfakr","mtherfaker"],mr:["mistur"],muscles:["msucels"],muslim:["mozlem"],must:["mus"],my:["mai","mi","mah"],nature:["nateur"],nazi:["natzi"],need:["nede","ned"],never:["neer"],"new":["nue "],next:["nex"],nice:["niec"],nigger:["nigur","niger"],niggers:["nigurs","nigers","nigges"],not:["not","no"],nothing:["nuthng"],now:["nao","naw","naow","nw"],number:["nmber"],news:["nwhs"],obama:["negropres","obama"],of:["of","uv","ef"],ok:["k"],okay:["k"],other:["ohtr"],outside:["outsed"],online:["ohnlene"],page:["paeg"],party:["paryt"],pass:["pas"],participation:["partipotian"],peanuts:["peenutz"],people:["ppl"],pick:["pik"],picture:["pishur"],planet:["planut"],play:["pley","pray"],please:["pls","plss","plz","plx"],plox:["plx"],pluto:["pruto"],police:["poleec"],"por favor":["prf avor"],power:["pwoer"],pretty:["prety"],production:["prodization"],quick:["quik"],quickest:["qiukest"],rage:["raeg"],"rainbow dash":["arnbo"],rape:["raep","reap"],raped:["raeped","reaped","raepd","reapd"],rarity:["rarty"],read:["raed","red"],real:["reel"],really:["rly","relly","rely"],rest:["rast"],research:["rasurch"],report:["ripurt"],"rick roll":["rix role"],ride:["ried","ryde"],rocks:["racks"],said:["sayd","sed"],satan:["saytan"],say:["sya"],scared:["scraed"],scooby:["skubby"],seat:["seet"],second:["sec"],secret:["sicret"],see:["c"],seeing:["seein"],send:["snd","sen"],sex:["sehx","seks"],sexy:["seyx"],shall:["shell"],share:["shar"],shirt:["sirht"],shit:["shet","shyt"],shop:["shopn"],show:["shwo"],shower:["showr"],sick:["sik"],skiing:["skeeing"],skrillex:["skrix","skrlx"],sleep:["slep"],smd:["smpcb"],smile:["smiel"],sniper:["sniepr"],some:["soem","sum"],somebody:["soembady","sumbudy","sumbody","sumbdy"],someone:["sum1"],something:["sumthn","smthn","somseng"],sorry:["sawry"],spiderman:["spooderman","spodermn","spoodermin","spoodey","spody"],stay:["sty"],steak:["stek"],stop:["stup","stap","stahp"],story:["stori"],stranger:["strngr"],stuck:["sutck"],stupid:["stopid","stuped","stupd"],style:["styel"],suck:["suk","sak","sk","saq","seq","sek"],sucking:["sukn","sakin","sukin"],suitcase:["sootcais"],sup:["sap"],"super":["spuer"],system:["sustem"],sure:["shor","shur","shure","suer"],take:["taek","tak"],taste:["tast","taest"],teacher:["taechr"],tell:["tael"],terrorist:["teroras"],testa:["tsta"],than:["thans"],"thank you":["ty"],thanks:["tanks","ty"],that:["dat"],the:["teh","da"],them:["dem"],then:["ten"],therapist:["theerpist"],therapy:["thrapy"],there:["ther"],they:["dey"],thing:["thinng"],"this":["dis","tis"],though:["tuff"],till:["til"],time:["tiem"],times:["tiems"],titties:["tittays"],to:["too","2","tu","t","tew"],toaster:["toastre"],today:["todei"],too:["too","2","tu","t","tew"],trade:["traed"],trick:["trik"],trolled:["troled","trold","trolde"],truck:["turk"],"true":["tru","trew"],trying:["trieng"],tsunami:["tusnami"],tsunamis:["tusnamis"],turn:["tern"],twilight:["twalot"],type:["tiep"],ultimate:["ultimaet"],uncle:["uncel","unecl"],until:["til"],unexpected:["unepecxted"],unproffesional:["unprofeshnl"],venom:["venam"],very:["vury"],virgin:["vargin"],virginity:["vnrginty"],wait:["waet","wate","wayt"],wallpaper:["walpeeper","walpapr"],walt:["wolt"],wanna:["wan"],want:["wnt","wnta","wan"],was:["wuz"],wash:["waesh"],watch:["wacht","wacth"],water:["woter","wtr"],"we are":["we"],"we're":["we"],wearing:["weerin"],website:["websyt"],well:["wlel","wull"],went:["wnt"],welcome:["welkohme"],"what would dolan do":["what would dolan does"],what:["wat","wot"],"what's up":["sup"],whatever:["watevur"],why:["wai","y","wy"],will:["wil"],windows:["windos"],"with":["wit","wiv"],without:["weetout"],wizard:["wizerd"],women:["wmen"],woof:["arf"],work:["wrok"],world:["wrld","wurld","wolrd"],would:["wud","wuld"],wrong:["rong"],year:["yr","yaer"],years:["yrs","yaers"],york:["yirk"],you:["you","u","yuo","yu","yuu"],your:["ur","yer","yur","yor"],yourself:["yurselv"],school:["skewl"]};var addTopicButtonId="add-topic";var addTopicPopupContainer="popup-add-topic-error";var addTopicPopupErrorText="popup-add-topic-error-text";var addReasonButtonId="add-reason";var addStatementContainerId="add-statement-container";var addStatementContainerMainInputId="add-statement-container-main-input";var addPremiseContainerId="add-premise-container";var addPremiseContainerBodyId="add-premise-container-body";var addPremiseContainerMainInputId="add-premise-container-main-input";var addPremiseContainerMainInputIntroId="add-premise-container-main-input-intro";var adminsSpaceForUsersId="admins-space-users";var adminsSpaceForArgumentsId="admins-space-argument";var adminsSpaceForIssuesId="admins-space-issue";var addStatementErrorContainer="add-statement-error-container";var addStatementErrorMsg="add-statement-error-msg";var addPremiseErrorContainer="add-premise-error-container";var addPremiseErrorMsg="add-premise-error-msg";var contactSubmitButtonId="contact-submit";var closeStatementContainerId="close-statement-container";var closePremiseContainerId="close-premise-container";var closeIslandViewContainerId="close-island-view-container";var closeGraphViewContainerId="close-graph-view-container";var clearStatisticsButtonId="clear-statistics";var contactLink="contact-link";var contentLink="content-link";var contactOnErrorId="contact-on-error";var contentWrapperClass="content-wrapper";var customBootstrapMenuId="custom-bootstrap-menu";var deleteTrackButtonId="delete-track";var deleteHistoryButtonId="delete-history";var discussionBubbleSpaceId="dialog-speech-bubbles-space";var discussionContainerId="discussion-container";var discussionEndStepBack="discussionEndStepBack";var discussionEndRestart="discussionEndRestart";var discussionSpaceId="discussions-space";var discussionSpaceListId="discussions-space-list";var displayStyleIconGuidedId="display-style-icon-guided-img";var displayStyleIconIslandId="display-style-icon-island-img";var displayStyleIconExpertId="display-style-icon-expert-img";var discussionErrorDescriptionId="discussion-error-description";var discussionErrorDescriptionSpaceId="discussion-error-description-space";var discussionSuccessDescriptionId="discussion-success-description";var discussionSuccessDescriptionSpaceId="discussion-success-description-space";var discussionArgVoteCountId="discussion-arg-votes-count";var discussionStatVoteCountId="discussion-stat-votes-count";var editIssueButtonId="edit-issue";var editStatementButtonId="edit-statement";var editsDoneCountId="edits-done-count";var headerNicknameId="header_nickname";var headerBadgeCountNotificationsId="header_badge_count_notifications";var hamburgerIconClass="hamburger";var menuBadgeCountNotificationsId="menu_badge_count_notifications";var statementsDoneCountId="statements-done-count";var forgotPasswordText="forgot-password-text";var popupLoginEmailInputId="email-input";var generatePasswordBodyId="generate-password-body";var graphViewContainerId="graph-view-container";var graphViewContainerHeaderId="graph-view-container-header";var graphViewContainerSpaceId="graph-view-container-space";var headerContainerId="header-container";var hiddenCSRFTokenId="hidden_csrf_token";var historyTableSuccessId="history-table-success";var historyTableFailureId="history-table-failure";var historyTableSpaceId="history-table-space";var historyFailureMessageId="history-failure-msg";var historySuccessMessageId="history-success-msg";var insertStatementForm="insert-statement-form";var islandViewContainerId="island-view-container";var islandViewContainerSpaceId="island-view-container-space";var issueDropdownButtonID="issue-dropdown";var issueDropdownTextID="issue-dropdown-text";var issueDropdownListID="dropdown-issue-list";var issueDateId="issue-date";var issueCountId="issue-count";var issueInfoId="issue_info";var infoEditsId="info-edits";var infoStatementsId="info-statements";var infoVoteArgumentsId="info-vote-arguments";var infoVoteStatementsId="info-vote-statements";var listAllUsersButtonId="list-all-users";var listAllArgumentId="list-all-arguments";var loginLinkId="login-link";var logoutLinkId="logout-link";var loginUserId="login-user";var loginPwId="login-pw";var languageDropdownId="language-dropdown";var moreAboutPositionButtonId="more-about-position";var navbarLeft="navbar-left";var navigationBreadcrumbId="navigation-breadcrumb";var navigationBackIcon="navigation-back";var navigationForwardIcon="navigation-forward";var newsLink="news-link";var newsBodyId="news-body";var opinionBarometerImageId="opinion-barometer-img";var popupLoginNickInputId="nick-input";var passwordGeneratorButton="password-generator-button";var passwordGeneratorOutput="password-generator-output";var popupGeneratePasswordId="popup-generate-password";var popupGeneratePasswordCloseButtonId="popup-generate-password-close-button";var popupGeneratePasswordCloseId="popup-generate-password-close";var popupPasswordGeneratorOutput="popup-password-generator-output";var popupPasswordGeneratorButton="popup-password-generator-button";var proposalStatementListGroupId="proposal-statement-list-group";var proposalPremiseListGroupId="proposal-premise-list-group";var proposalEditListGroupId="proposal-edit-list-group";var proposalUserListGroupId="proposal-user-list-group";var popupEditIssueId="popup-edit-issue";var popupEditIssueCloseButtonXId="popup-edit-issue-close";var popupEditIssueCloseButtonId="popup-edit-issue-close-button";var popupEditIssueErrorDescriptionId="popup-edit-issue-error-description";var popupEditIssueSuccessDescriptionId="popup-edit-issue-success-description";var popupEditIssueContentId="popup-edit-issue-content";var popupEditTitleTextareaId="popup-edit-title-textarea";var popupEditInfoTextareaId="popup-edit-info-textarea";var popupEditIssueWarning="popup-edit-issue-warning";var popupEditIssueWarningMessage="popup-edit-issue-warning-message";var popupEditIssueLogfileHeaderId="popup-edit-issue-logfile-header";var popupEditIssueLogfileSpaceId="popup-edit-issue-logfile";var popupEditIssueSubmitButtonId="popup-edit-issue-submit";var popupConfirmDialogId="confirm-dialog-popup";var popupConfirmDialogAcceptBtn="confirm-dialog-accept-btn";var popupConfirmDialogRefuseBtn="confirm-dialog-refuse-btn";var popupConfirmChecbkoxId="confirm-dialog-checkbox";var popupConfirmChecbkoxDialogTextId="confirm-dialog-checkbox-text";var popupConfirmChecbkoxDialogId="confirm-dialog-checkbox-popup";var popupConfirmChecbkoxDialogAcceptBtn="confirm-dialog-checkbox-accept-btn";var popupConfirmChecbkoxDialogRefuseBtn="confirm-dialog-checkbox-refuse-btn";var popupEditStatementId="popup-edit-statement";var popupEditStatementShowLogButtonId="show_log_of_statement";var popupEditStatementCloseButtonXId="popup-edit-statement-close";var popupEditStatementCloseButtonId="popup-edit-statement-close-button";var popupEditStatementTextareaId="popup-edit-statement-textarea";var popupEditStatementContentId="popup-edit-statement-content";var popupEditStatementLogfileHeaderId="popup-edit-statement-logfile-header";var popupEditStatementLogfileSpaceId="popup-edit-statement-logfile";var popupEditStatementSubmitButtonId="popup-edit-statement-submit";var popupEditStatementDescriptionId="popup-edit-statement-description-p";var popupEditStatementWarning="popup-edit-statement-warning";var popupEditStatementWarningMessage="popup-edit-statement-warning-message";var popupEditStatementErrorDescriptionId="popup-edit-statement-error-description";var popupEditStatementSuccessDescriptionId="popup-edit-statement-success-description";var popupHowToWriteText="popup-write-text";var popupHowToWriteTextCloseButton="popup-write-text-close-button";var popupHowToWriteTextClose="popup-write-text-close";var popupHowToWriteTextOkayButton="popup-write-text-okay-button";var popupLogin="popup-login";var popupLoginFailed="popup-login-failed";var popupLoginSuccess="popup-login-success";var popupLoginInfo="popup-login-info";var popupLoginForgotPasswordBody="popup-login-forgot-password-body";var popupLoginForgotPasswordText="popup-login-forgot-password-text";var popupLoginGeneratePassword="popup-login-generate-password";var popupLoginGeneratePasswordBodyId="popup-login-generate-password-body";var popupLoginPasswordMeterId="popup-login-password-meter";var popupLoginPasswordStrengthId="popup-login-password-strength";var popupLoginPasswordInputId="popup-login-password-input";var popupLoginPasswordconfirmInputId="popup-login-passwordconfirm-input";var popupLoginPasswordExtrasId="popup-login-password-extras";var popupLoginCloseButton="popup-login-close-button";var popupLoginRegistrationSuccess="popup-login-registration-success";var popupLoginRegistrationFailed="popup-login-registration-failed";var popupLoginRegistrationInfo="popup-login-registration-info";var popupLoginButtonRegister="popup-login-button-register";var popupLoginButtonLogin="popup-login-button-login";var popupLoginButtonRequest="popup-login-button-request";var popupLoginWarningMessage="popup-login-warning-message";var popupLoginWarningMessageText="popup-login-warning-message-text";var popupLoginInlineRadioGenderN="inlineRadioGender1";var popupLoginInlineRadioGenderF="inlineRadioGender2";var popupLoginInlineRadioGenderM="inlineRadioGender3";var popupSetPremiseGroups="popup-set-premisegroups";var popupSetPremiseGroupsBodyContent="popup-set-premisegroups-body-content";var popupSetPremiseGroupsCounter="popup-set-premisegroups-counter";var popupSetPremiseGroupsClose="popup-set-premisegroups-close";var popupSetPremiseGroupsSendButton="popup-set-premisegroups-send-button";var popupSetPremiseGroupsPreviousButton="popup-set-premisegroups-previous-button";var popupSetPremiseGroupsNextButton="popup-set-premisegroups-next-button";var popupSetPremiseGroupsBodyIntro="popup-set-premissegroups-body-intro";var popupSetPremiseGroupsOptions="insert_statements_options";var popupSetPremiseGroupsStatementCount="insert_statements_count";var popupSetPremiseGroupsListMoreArguments="insert_statements_list_more_arguments";var popupSetPremiseGroupsOneBigStatement="insert_statements_one_argument";var popupUrlSharingLongUrlButtonID="popup-url-sharing-long-url-button";var popupUrlSharingId="popup-url-sharing";var popupUrlSharingCloseButtonXId="popup-url-sharing-close";var popupUrlSharingCloseButtonId="popup-url-sharing-close-button";var popupUrlSharingInputId="popup-url-sharing-input";var popupUrlSharingDescriptionPId="popup-url-sharing-description-p";var reportButtonId="report-button";var requestTrackButtonId="request-track";var requestHistoryButtonId="request-history";var radioButtonGroup="radioButtonGroup";var requestFailedContainer="request_failed_container";var requestFailedContainerClose="request_failed_container_close";var requestFailedContainerHeading="request_failed_container_heading";var requestFailedContainerMessage="request_failed_container_message";var requestSuccessContainer="request_success_container";var requestSuccessContainerClose="request_success_container_close";var requestSuccessContainerHeading="request_success_container_heading";var requestSuccessContainerMessage="request_success_container_message";var requestInfoContainer="request_info_container";var requestInfoContainerClose="request_info_container_close";var requestInfoContainerHeading="request_info_container_heading";var requestInfoContainerMessage="request_info_container_message";var reviewLinkId="review-link";var translationLink="link-trans-";var translationLinkDe="link-trans-de";var translationLinkEn="link-trans-en";var questionBubbleId="question-bubble";var shareUrlId="share-url";var shareUrlButtonMail="share-url-mail";var shareUrlButtonTwitter="share-url-twitter";var shareUrlButtonGoogle="share-url-google";var shareUrlButtonFacebook="share-url-facebook";var shareButtonMail="share-mail";var shareButtonTwitter="share-twitter";var shareButtonGoogle="share-google";var shareButtonFacebook="share-facebook";var shareButtonMailSmall="share-mail-small";var shareButtonTwitterSmall="share-twitter-small";var shareButtonGoogleSmall="share-google-small";var shareButtonFacebookSmall="share-facebook-small";var sendNewStatementId="send-new-statement";var sendNewPremiseId="send-new-premise";var sendNewsButtonId="popup-writing-news-send";var settingsSuccessDialog="settings-success";var settingsSuccessMessage="settings-success-message";var settingsAlertDialog="settings-alert";var settingsAlertMessage="settings-alert-message";var statisticsSuccessDialog="statistics-success";var statisticsSuccessMessage="statistics-success-message";var statisticsAlertDialog="statistics-alert";var statisticsAlertMessage="statistics-alert-message";var settingsReceiveNotifications="receive-notifications-toggle";var settingsReceiveMails="receive-mails-toggle";var settingsPublicNick="public-nick-toggle";var settingsPasswordInfoIconId="settings-password-info-icon";var settingsPasswordInputId="settings-password-input";var settingsPasswordOldInputId="settings-password-old-input";var settingsPasswordConfirmInputId="settings-passwordconfirm-input";var settingsPasswordMeterId="settings-password-meter";var settingsPasswordStrengthId="settings-password-strength";var settingsPasswordExtrasId="settings-password-extras";var settingsPasswordSubmitButtonId="settings-password-submit";var settingsPasswordChangeDangerMessage="settings-danger-message";var settingsPasswordChangeSuccessMessage="settings-success-message";var settingsNotificationLangDe="link-settings-de";var settingsNotificationLangEn="link-settings-en";var sessionExpiredContainer="session_expired_container";var sidebarEditButtonId="edit-statement";var sidebarReportButtonId="report-button";var sidebarClass="sidebar";var sidebarTackClass="tack";var sidebarWrapperClass="sidebar-wrapper";var sidebarTackWrapperClass="tack-wrapper";var switchLangIndicatorEnId="switch-lang-indicator-en";var startDiscussionButtonId="start-discussion-button";var switchLangIndicatorDeId="switch-lang-indicator-de";var supportPositionButtonId="support-position";var popupLoginUserfirstnameInputId="userfirstname-input";var popupLoginUserlastnameInputId="userlastname-input";var uid="uid";var writingNewsFailedId="popup-writing-news-failed";var writingNewsSuccessId="popup-writing-news-success";var writingNewsFailedMessageId="popup-writing-news-failed-message";var writingNewsSuccessMessageId="popup-writing-news-success-message";var writingNewNewsTitleId="popup-writing-news-title";var writingNewNewsTextId="popup-writing-news-text";var fuzzy_start_statement=0;var fuzzy_statement_popup=1;var fuzzy_start_premise=2;var fuzzy_add_reason=3;var fuzzy_find_user=5;var attr_add="add";var attr_attack="attack";var attr_argument_uid="argument_uid";var attr_conclusion_id="conclusion_id";var attr_confrontation_uid="confrontation_uid";var attr_current_attack="current_attack";var attr_confrontation_text="confrontation_text";var attr_id="id";var attr_last_attack="last_attack";var attr_last_relation="last_relation";var attr_long_id="long_id";var attr_no_opinion="noopinion";var attr_more_about="more_about";var attr_overbid="overbid";var attr_relation="relation";var attr_related_argument="related_argument";var attr_rebut="rebut";var attr_premise="premise";var attr_start="start";var attr_step_back="stepback";var attr_support="support";var attr_supportive="supportive";var attr_text="text";var attr_undermine="undermine";var attr_undercut="undercut";var attr_more_args="insert_more_arguments";var attr_one_arg="insert_one_argument";var attr_dont_care="insert_dont_care";var id_pro="pro";var id_con="con";function News(){var a=990;this.getNewsContainerAsHtml=function(f,b,d,c,e){return'<div class="col-md-4"><div class="panel panel-default"><div class="panel-heading" id="news_'+e+'"><a class="share-icon-small share-mail-small" data-toggle="tooltip" data-placement="bottom" title="Mail"></a><a class="share-icon-small share-twitter-small" data-toggle="tooltip" data-placement="bottom" title="Twitter"></a><a class="share-icon-small share-google-small" data-toggle="tooltip" data-placement="bottom" title="Google+"></a><a class="share-icon-small share-facebook-small" data-toggle="tooltip" data-placement="bottom" title="Facebook"></a><h5><span class="font-semi-bold" id="news_'+e+'_title">'+f+'</span></h5></div><div class="panel-body" style="text-align: justify;"><h6><span id="news_'+e+'_author">'+d+'</span>, <span id="news_'+e+'_date">'+b+"</span></h6><br>"+c+"</div></div></div>"};this.callbackIfDoneForGettingNews=function(g){var k=$.parseJSON(g),b=1,d="",l=0,e,f=Object.keys(k).length,h=new Array(f),c="",i=new News();$.each(k,function j(m,n){h[f-b]=i.getNewsContainerAsHtml(n.title,n.date,n.author,n.news,n.uid);b+=1});b=0;for(b=0;b<f;b++){if(b%3==0){if(d!==""){$("#"+newsBodyId).append(c)}d=$("<div>").attr("id","row_"+l).addClass("row");c=$("<div>").attr("id","container_"+l).addClass("container");l+=1}d.append(h[b]);c.append(d)}f=c.children().eq(0).children().length;$.each(c.children().eq(0).children(),function(){$(this).attr("class","").attr("class","col-md-"+(12/f))});b-=1;if(b%3!=0){$("#"+newsBodyId).append(c)}i.setSlimscrollForNewsRows();i.setPageNavigation();i.setSharingClasses()};this.callbackIfDoneForSendingNews=function(b){var c=$.parseJSON(b);if(c.error.length==0){location.reload()}else{$("#"+writingNewsFailedId).show();$("#"+writingNewsFailedMessageId).html(c.error)}};this.setMaxHeightOfNewsRows=function(){var b,e=$("#"+newsBodyId).children().length,d,c;if($(window).width()<a){return}for(b=0;b<e;b++){d=$("#row_"+b+" div").children(":first-child").map(function(){return $(this).height()}).get();c=Math.max.apply(null,d);$.each($("#row_"+b).children(),function(){$(this).children().eq(0).height(c)})}};this.setSlimscrollForNewsRows=function(){var b=[],d,c=$("#wrapper-content"),e=$("#footer");b.push($(".navbar-collapse").height());b.push(parseInt(c.css("padding-top").replace("px","")));b.push(parseInt(c.css("padding-bottom").replace("px","")));b.push(parseInt(c.css("margin-top").replace("px","")));b.push(parseInt(c.css("margin-bottom").replace("px","")));b.push(e.height());b.push(parseInt(e.css("padding-top").replace("px","")));b.push(parseInt(e.css("margin-top").replace("px","")));b.push($("#news-navigation-container").height());b.push(2*parseInt($("#news-body").children().eq(0).css("margin-bottom").replace("px","")));b.push(50);d=$(window).height();b.forEach(function(f){d-=f});d=d/2;c.attr("style","padding-bottom: 0px");$(".panel-heading").height(67);$(".panel-body").slimScroll({position:"right",height:d+"px",railVisible:true,alwaysVisible:false})};this.setPageNavigation=function(){var b,k=$("#"+newsBodyId).children().length,g=2,j=this,d=1,f=$("#news-navigation"),i,h,c,e="";f.empty();for(b=0;b<k;b++){if(b!=0&&b%g==0){d++}$("#container_"+b).addClass("news-page-"+d).hide()}h='<li><a href="#" id="news-back"><span aria-hidden="true">&laquo;</span></a></li>';for(b=1;b<=d;b++){e+='<li><a href="#" counter="'+b+'" id="news-'+b+'">'+b+"</a></li>"}c='<li><a href="#" id="news-forth"><span aria-hidden="true">&raquo;</span></a></li>';i='<ul class="pagination">'+h+e+c+"</ul>";f.append(i);for(b=0;b<=d;b++){$("#news-"+(b+1)).click(function(){$("#news-navigation").children().eq(0).children().removeClass("active");$(this).parent().addClass("active");$("#"+newsBodyId).children().hide();$(".news-page-"+$(this).attr("counter")).show();j.checkNewsForthAndBackButtons($(this).attr("counter"),d)})}$("#news-1").parent().addClass("active");$(".news-page-1").show();$("#news-back").parent().addClass("disabled");j.setPlaceholder($("#news-1").attr("counter"),d);$(".pagination a").click(function(){if(!$(this).hasClass("news-placeholder")){j.setPlaceholder($(this).attr("counter"),d)}});$("#news-back").off("click").click(function(){if(!$(this).parent().hasClass("disabled")){j.turnThePage(true,d)}}).hide();$("#news-forth").off("click").click(function(){if(!$(this).parent().hasClass("disabled")){j.turnThePage(false,d)}}).hide()};this.setPlaceholder=function(b,d){var c,f,e,g=$("<li>").addClass("disabled").append($("<a>").addClass("news-placeholder").text("..."));$(".news-placeholder").remove();for(c=3;c<d-1;c++){$("#news-"+c).parent().hide()}f=b-1;c=f+1;e=c+1;$("#news-"+f).parent().show();$("#news-"+c).parent().show();$("#news-"+e).parent().show();if(f-3>0){g.insertAfter($("#news-"+(f-1)).parent())}if(d-2-e>0){g.insertAfter($("#news-"+e).parent())}};this.turnThePage=function(c,d){var e=$("#news-navigation .active"),b=parseInt(e.children().eq(0).attr("counter"));e.removeClass("active");if(c){e.prev().addClass("active")}else{e.next().addClass("active")}$(".news-page-"+b).hide();b=c?b-1:b+1;$(".news-page-"+b).show();this.checkNewsForthAndBackButtons(b,d);this.setPlaceholder(b,d)};this.checkNewsForthAndBackButtons=function(c,b){if(c==0){$("#news-back").parent().addClass("disabled")}else{$("#news-back").parent().removeClass("disabled")}if(c==b){$("#news-forth").parent().addClass("disabled")}else{$("#news-forth").parent().removeClass("disabled")}};this.setSharingClasses=function(){var b=new News();$("."+shareButtonMail).click(function(){b.mailShare(this)});$("."+shareButtonMailSmall).click(function(){b.mailShare(this)});$("."+shareButtonTwitter).click(function(){b.twitterShare(this)});$("."+shareButtonTwitterSmall).click(function(){b.twitterShare(this)});$("."+shareButtonGoogle).click(function(){b.googleShare(this)});$("."+shareButtonGoogleSmall).click(function(){b.googleShare(this)});$("."+shareButtonFacebook).click(function(){b.facebookShare(this)});$("."+shareButtonFacebookSmall).click(function(){b.facebookShare(this)})};this.mailShare=function(f){if($(f).attr("id")===shareUrlButtonMail){return}var e=$(f).parent().attr("id"),d=$("#"+e+"_title").text(),b=$("#"+e+"_date").text(),c=$("#"+e+"_author").text();new Sharing().emailShare("user@example.com","DBAS: "+d,"Interesting news from "+b+", by "+c+" - "+window.location.href)};this.googleShare=function(b){if($(b).attr("id")===shareUrlButtonGoogle){return}new Sharing().googlePlusShare(window.location.href)};this.facebookShare=function(g){if($(g).attr("id")===shareUrlButtonFacebook){return}var f=$(g).parent().attr("id"),e=$("#"+f+"_title").text(),b=$("#"+f+"_date").text(),c=$("#"+f+"_author").text(),d="News '"+e+"', from "+b+", by "+c+" on "+window.location.href;new Sharing().facebookShare(window.location.href,"FB Sharing",d,mainpage+"static/images/logo.png")};this.twitterShare=function(d){if($(d).attr("id")===shareUrlButtonTwitter){return}var c=$(d).parent().attr("id"),b=$("#"+c+"_title").text();new Sharing().twitterShare(b,window.location.href)}}$(document).ready(function(){if(window.location.href!=mainpage+"news"){return}new AjaxNewsHandler().ajaxGetNews();$("#"+writingNewsFailedId).hide();$("#"+writingNewsSuccessId).hide();new News().setSharingClasses();$("#"+sendNewsButtonId).click(function(){new AjaxNewsHandler().ajaxSendNews()});$("#icon-add-news").click(function(){$("#popup-writing-news").modal("show")});$(window).on("resize",function a(){new News().setMaxHeightOfNewsRows()})});$(function(){var a=new Notifications();a.setPanelClickFunctions();a.setClickFunctionsForAnswerNotification();a.setClickFunctionsForNewNotification();$("#popup-writing-notification-recipient").keyup(function(){new Helper().delay(function(){var b=new Helper().escapeHtml($("#popup-writing-notification-recipient").val());new AjaxDiscussionHandler().fuzzySearch(b,"popup-writing-notification-recipient",fuzzy_find_user,"")},200)});$("#popup-writing-notification-title").focusin(function(){$("#proposal-user-list-group").empty()});$("#popup-writing-notification-text").focusin(function(){$("#proposal-user-list-group").empty()})});function Notifications(){this.setPanelClickFunctions=function(){$.each($(".panel-title-link"),function b(){$(this).click(function(){var c=$(this).parent().parent().parent().attr("id");if($(this).html().indexOf("<strong")!=-1){new AjaxNotificationHandler().sendAjaxForReadMessage(c,this)}})});$.each($(".glyphicon-trash"),function a(){$(this).off("click").click(function(){$(this).parent().parent().attr("href","");new AjaxNotificationHandler().sendAjaxForDeleteMessage($(this).parent().parent().parent().attr("id"))})})};this.setClickFunctionsForNewNotification=function(){$("#new-notification").click(function(){$("#popup-writing-notification").modal("show");$("#popup-writing-notification-success").hide();$("#popup-writing-notification-failed").hide();$("#popup-writing-notification-recipient").show();$("#popup-writing-notification-send").click(function(){new AjaxNotificationHandler().sendNotification($("#popup-writing-notification-recipient").val())})})};this.setClickFunctionsForAnswerNotification=function(){$(".answer-notification").each(function(){$(this).click(function(){var d=$(this);$("#popup-writing-notification-recipient").show().val(d.prev().text().trim());$("#popup-writing-notification").modal("show");$("#popup-writing-notification-success").hide();$("#popup-writing-notification-failed").hide();var a=$(this).parent().parent().parent().parent(),c=a.find(".notification-title").text(),b=a.find(".notification-content").text();$("#popup-writing-notification-title").val(c);$("#popup-writing-notification-text").text(b);$("#popup-writing-notification-send").click(function(){new AjaxNotificationHandler().sendNotification($("#popup-writing-notification-recipient").text())})})});$(".new-notification").each(function(){$(this).click(function(){var a=$(this);$("#popup-writing-notification-recipient").hide();$("#popup-writing-notification").modal("show");$("#popup-writing-notification-success").hide();$("#popup-writing-notification-failed").hide();$("#popup-writing-notification-send").click(function(){var b=window.location.href,d=b.split("/"),c;if(b.indexOf("/user/")!=-1){c=d[d.length-1]}else{c=a.prev().text()}new Notifications().sendNotification(c.trim())})})})};this.hideInfoSpaces=function(){$("#error-space").hide();$("#error-description").text("")};this.setNewBadgeCounter=function(a){if(a==0){$("#header_badge_count_notifications").remove()}else{$("#header_badge_count_notifications").text(a)}$("#unread_counter").text(" "+a+" ")};this.appendMessageInOutbox=function(f,e,h,g,d,b){var a='<div class="panel panel-default" style="margin-bottom: 1em;" id="'+b+'"><div class="panel-heading"><h4 class="panel-title"><a class="accordion-toggle panel-title-link" data-toggle="collapse" data-parent="#accordion" href="#collapse'+b+'"><span class="text-primary notification-title">'+h+'</span></a><span style="float: right; margin-left: 1.0em; cursor: pointer;" class="glyphicon center glyphicon-trash" data-toggle="tooltip" data-placement="bottom" title="Delete"></span><span style="float: right; padding-right: 1em;"><span>To:</span> '+f+", "+d+'</span></h4></div><div id="collapse'+b+'" class="panel-collapse collapse"><div class="panel-body"><div class="notification-content">text</div><div style="float:right; padding: 0.2em;"><span>'+_t(to)+':</span> <a href="/user/'+f+'" target="_blank" class="to_author_value">'+f+'<img src="'+e+'" style="margin-left: 0.5em; margin-right: 0.5em"></a><a href="#" class="btn btn-primary btn-xs answer-notification">'+_t(answer)+"</a></div></div></div></div>";$("#outbox").find(".panel-group").append(a);$.each($("#message-space").find(".glyphicon-trash"),function c(){$(this).off("click").click(function(){$(this).parent().parent().attr("href","");new Notifications().sendAjaxForDeleteMessage($(this).parent().parent().parent().attr("id"))})})}};function HistoryHandler(){this.getUserHistoryDataDone=function(a){new HistoryHandler().setDataInHistoryTable(a)};this.getDataFail=function(a){$("#"+historyTableSuccessId).hide();$("#"+historyTableFailureId).fadeIn("slow");new Helper().delay(function(){$("#"+historyTableFailureId).fadeOut()},3000);if(a==400){$("#"+historyFailureMessageId).html(_t(requestFailedBadToken))}else{if(a==500){$("#"+historyFailureMessageId).html(_t(requestFailedInternalError))}else{$("#"+historyFailureMessageId).html(_t(requestFailed))}}};this.removeUserHistoryDataDone=function(){$("#"+historyTableSpaceId).empty();$("#"+deleteHistoryButtonId).hide();$("#"+requestHistoryButtonId).hide();$("#"+historyTableSuccessId).show();$("#"+historyTableFailureId).hide();$("#"+historySuccessMessageId).text(_t(dataRemoved))};this.setDataInHistoryTable=function(j){var a,g,c,d,k,h,e,m,b=new Helper();c=["",""];a=$("<table>");a.attr("class","table table-striped table-hover").attr("border","0").attr("style","border-collapse: separate; border-spacing: 0px;");g=$("<tr>");h=$("<thead>");e=$("<tbody>");for(d=0;d<c.length;d+=1){c[d]=$("<th>")}c[0]=$("<th>").text("#");c[1]=$("<th>").text("URL");c[2]=$("<th>").text(_t(timestamp));for(d=0;d<c.length;d+=1){g.append(c[d])}h.append(g);a.append(h);var f=false;k=$.parseJSON(j);$.each(k,function l(i,n){f=true;m=b.cutTextOnChar(n.path,120,"/");c[0]=$("<td>").text(i);c[1]=$("<td>").html('<a href="'+n.path+'">'+n.path+"</a>");c[2]=$("<td>").text(n.timestamp);g=$("<tr>");for(d=0;d<c.length;d+=1){g.append(c[d])}e.append(g)});a.append(e);if(f){$("#"+historyTableSpaceId).empty().append(a);$("#"+deleteHistoryButtonId).fadeIn("slow")}else{$("#"+historyTableSpaceId).empty();$("#"+historyTableSuccessId).show();$("#"+historySuccessMessageId).text(_t(noTrackedData));$("#"+deleteHistoryButtonId).hide();$("#"+requestHistoryButtonId).hide()}}}function PasswordHandler(){var a=new RegExp("[A-Z]"),d=new RegExp("[a-z]"),c=new RegExp("[0-9]"),b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!%&@#$?_~<>+-*/",e=new RegExp("([!,%,&,@,#,$,^,*,?,_,~])");this.set_total=function(i,h,f,g){h.removeClass().addClass("col-sm-9");f.text(_t(strength)+": "+_t(veryweak)).fadeIn("slow");if(i===1){h.addClass("veryweak");f.text(_t(strength)+": "+_t(veryweak))}else{if(i===2){h.addClass("weak");f.text(_t(strength)+": "+_t(weak))}else{if(i===3){h.addClass("medium");f.text(_t(strength)+": "+_t(medium))}else{if(i>3){h.addClass("strong");f.text(_t(strength)+": "+_t(strong))}else{if(g){g.fadeOut("slow")}}}}}};this.check_strength=function(g,k,f,h){var j=0,i=g.val();if(i.length>8){j=j+1}if(a.test(i)){j=j+1}if(d.test(i)){j=j+1}if(c.test(i)){j=j+1}if(e.test(i)){j=j+1}new PasswordHandler().set_total(j,k,f,h)};this.generate_password=function(f){var g="",h=0;while(!(a.test(g)&&d.test(g)&&c.test(g)&&e.test(g))){h=0;g="";for(h;h<8;h=h+1){g+=b.charAt(Math.floor(Math.random()*b.length))}}f.val(g)}}function SettingsHandler(){this.callbackDone=function(c,b,d,a){var e=$.parseJSON(c);if(e.error.length==0){$("#"+settingsSuccessDialog).fadeIn();$("#value_public_nickname").text(e.public_nick);$("#value_public_page").attr("href",e.public_page_url);$("#user_gravatar").attr("src",e.gravatar_url);new Helper().delay(function(){$("#"+settingsSuccessDialog).fadeOut()},3000)}else{new SettingsHandler().callbackFail(b,d,a)}};this.callbackFail=function(b,c,a){$("#"+settingsAlertDialog).fadeIn();new Helper().delay(function(){$("#"+settingsAlertDialog).fadeOut()},3000);b.off("change").bootstrapToggle(c?"off":"on").change(function(){new AjaxSettingsHandler().setUserSetting(b,a)})}}function StatisticsHandler(){this.deleteStatistics=function(){if($("#"+editsDoneCountId).text()=="0"&&$("#"+discussionArgVoteCountId).text()=="0"&&$("#"+discussionStatVoteCountId).text()=="0"){new StatisticsHandler().callbackStatisticsFail(_t(statisticsNotThere));return}$("#"+popupConfirmDialogId).modal("show");$("#"+popupConfirmDialogId+" h4.modal-title").text(_t(deleteStatisticsTitle));$("#"+popupConfirmDialogId+" div.modal-body").html(_t(deleteStatisticsBody));$("#"+popupConfirmDialogAcceptBtn).show().click(function(){$("#"+popupConfirmDialogId).modal("hide");new AjaxSettingsHandler().deleteStatisticsRequest()});$("#"+popupConfirmDialogRefuseBtn).show().click(function(){$("#"+popupConfirmDialogId).modal("hide")})};this.callbackGetStatisticsDone=function(e,j,b){var h=$.parseJSON(e);if(h.length==0){new StatisticsHandler().callbackStatisticsFail(_t(statisticsNotThere));return}var i,d,g,c,f;i=$("<table>");i.attr("class","table table-condensed table-hover").attr("border","0").attr("style","border-collapse: separate; border-spacing: 5px 5px;");d=$("<tr>").append($("<td>").html("<strong>"+_t(text)+"</strong>").css("text-align","center")).append($("<td>").html("<strong>"+_t(date)+"</strong>").css("text-align","center"));if(b){d.append($("<td>").html("<strong>"+_t(typeofVote)+"</strong>").css("text-align","center")).append($("<td>").html("<strong>"+_t(valid)+"</strong>").css("text-align","center"))}i.append(d);g=$("<span>").addClass("glyphicon").addClass("glyphicon glyphicon-thumbs-up").attr("aria-hidden","true");c=$("<span>").addClass("glyphicon").addClass("glyphicon glyphicon-thumbs-down").attr("aria-hidden","true");$.each(h,function a(k,l){d=$("<tr>").append($("<td>").text(l.timestamp)).append($("<td>").text(b?l.text:l.content));if(b){d.append($("<td>").html(l.is_up_vote?g.clone():c.clone()).css("text-align","center")).append($("<td>").html(l.is_valid?checkmark:ballot).css("text-align","center"))}i.append(d)});$("#"+popupConfirmDialogId).off("hidden.bs.modal").on("hidden.bs.modal",function(l){var k=$(".slimScrollDiv").children().eq(0);k.children().eq(1).remove();k.children().eq(2).remove();$(".modal-header").after(k);$(".slimScrollDiv").remove()}).modal("show").find(".modal-dialog").addClass("modal-lg");$("#"+popupConfirmDialogId+" h4.modal-title").text(j);f=$("#"+popupConfirmDialogId+" div.modal-body");f.empty().append(i);$("#"+popupConfirmDialogAcceptBtn).hide();$("#"+popupConfirmDialogRefuseBtn).show().click(function(){$("#"+popupConfirmDialogId).modal("hide");$(".scrollarea").slimScroll({destroy:true})}).removeClass("btn-danger").text("Okay");new Helper().delay(function(){if(f.height()>(window.innerHeight-250)){f.slimScroll({position:"right",height:(window.innerHeight-250)+"px",railVisible:true,alwaysVisible:false})}else{$(".scrollarea").slimScroll({destroy:true})}},250)};this.callbackDeleteStatisticsDone=function(a){var b=$.parseJSON(a);if(b.removed_data=="true"){$("#"+statisticsSuccessDialog).fadeIn();$("#"+statisticsSuccessMessage).text(_t(statisticsDeleted));new Helper().delay(function(){$("#"+statisticsSuccessDialog).fadeOut()},3000);$("#"+editsDoneCountId).text("0");$("#"+discussionArgVoteCountId).text("0");$("#"+discussionStatVoteCountId).text("0")}else{new StatisticsHandler().callbackStatisticsFail()}};this.callbackStatisticsFail=function(a){$("#"+statisticsAlertDialog).fadeIn();$("#"+statisticsAlertMessage).text(a);new Helper().delay(function(){$("#"+statisticsAlertDialog).fadeOut()},3000)}}$(function(){if(window.location.href!=mainpage+"settings"){return}var g=$("#"+settingsPasswordExtrasId);$("#"+requestHistoryButtonId).click(function d(){new AjaxSettingsHandler().getUserHistoryData();$("#"+historyTableSuccessId).fadeOut("slow");$("#"+historyTableFailureId).fadeOut("slow");$("#"+historyTableSpaceId).empty();$("#"+requestHistoryButtonId).val(_t(refreshHistory))});$("#"+deleteHistoryButtonId).hide().click(function i(){new AjaxSettingsHandler().deleteUserHistoryData();$("#"+historyTableSuccessId).fadeOut("slow");$("#"+historyTableFailureId).fadeOut("slow");$("#"+requestHistoryButtonId).val(_t(requestHistory))});$("#"+settingsPasswordInputId).keyup(function k(){new PasswordHandler().check_strength($("#"+settingsPasswordInputId),$("#"+settingsPasswordMeterId),$("#"+settingsPasswordStrengthId),g);if($(this).val().length>0){g.fadeIn("slow")}else{g.fadeOut("slow")}});$("#"+settingsPasswordInfoIconId).click(function j(){new GuiHandler().showGeneratePasswordPopup()});$("#"+f).click(function f(){new PasswordHandler().generate_password($("#"+passwordGeneratorOutput))});$("#"+popupPasswordGeneratorButton).click(function f(){new PasswordHandler().generate_password($("#"+popupPasswordGeneratorOutput))});$("#"+clearStatisticsButtonId).click(function c(){new AjaxSettingsHandler().deleteStatistics()});$("#"+infoEditsId).click(function(){new AjaxSettingsHandler().getEditsDone()});$("#"+infoStatementsId).click(function(){new AjaxSettingsHandler().getStatementsSend()});$("#"+infoVoteArgumentsId).click(function(){new AjaxSettingsHandler().getArgumentVotes()});$("#"+infoVoteStatementsId).click(function(){new AjaxSettingsHandler().getStatementVotes()});$("#"+settingsReceiveNotifications).change(function l(){new AjaxSettingsHandler().setUserSetting($(this),"notification")});$("#"+settingsReceiveMails).change(function e(){new AjaxSettingsHandler().setUserSetting($(this),"mail")});$("#"+settingsPublicNick).change(function h(){new AjaxSettingsHandler().setUserSetting($(this),"public_nick")});$.each($("#settings-language-dropdown").find("a"),function(){$(this).click(function(){new AjaxSettingsHandler().setNotifcationLanguage($(this).data("ui-locales"))})});$(document).on({ajaxStart:function b(){setTimeout("$('body').addClass('loading')",0)},ajaxStop:function m(){setTimeout("$('body').removeClass('loading')",0)}});$(document).ready(function a(){$.each($("#current-lang-images").find("img"),function(){$(this).hide()});$("#indicator-"+$("#current-lang-images").data("lang")).show()})});function Sharing(){this.facebookShare=function(d,h,g,f){var a,e,c,b;c=520;b=350;a=(screen.height/2)-(b/2);e=(screen.width/2)-(c/2);window.open("http://www.facebook.com/sharer.php?s=100&p[title]="+h+"&p[summary]="+g+"&p[url]="+d+"&p[images][0]="+f,"sharer",",top="+a+",left="+e+",toolbar=0,status=0,width="+c+",height="+b)};this.twitterShare=function(f,d){var c=550,b=420,a=(screen.height/2)-(b/2),e=(screen.width/2)-(c/2);f=d.length>0?f+" on "+d:f;window.open("https://twitter.com/intent/tweet?text="+f+"&hashtags=DBAS,nrwfkop","sharer",",top="+a+",left="+e+",toolbar=0,status=0,width="+c+",height="+b)};this.emailShare=function(c,b,a){window.location.href="mailto:"+c+"?subject="+b+"&body="+a};this.googlePlusShare=function(d){var a,e,c,b;c=600;b=400;a=(screen.height/2)-(b/2);e=(screen.width/2)-(c/2);window.open("https://plus.google.com/share?url="+d,"sharer",",top="+a+",left="+e+",toolbar=0,status=0,width="+c+",height="+b)}};var mainpage=location.origin+"/";_t=function(c){var b;var a="unknown identifier";$("#"+languageDropdownId).children().each(function(){if($(this).hasClass("active")){b=$(this).children().first().attr("id");if(b.indexOf("en")!=-1&&dbas_en.hasOwnProperty(c)){a=dbas_en[c]}else{if(b.indexOf("de")!=-1&&dbas_de.hasOwnProperty(c)){a=dbas_de[c]}else{a="unknown value"}}}});return a};_t_discussion=function(c){if($("#issue_info").length==0){return _t(c)}var b=$("#issue_info").data("discussion-language");var a="unknown identifier";if(b.indexOf("en")!=-1&&dbas_en.hasOwnProperty(c)){a=dbas_en[c]}else{if(b.indexOf("de")!=-1&&dbas_de.hasOwnProperty(c)){a=dbas_de[c]}else{a="unknown value"}}return a};getLanguage=function(){var b,a="unknown value";$("#"+languageDropdownId).children().each(function(){if($(this).hasClass("active")){b=$(this).children().first().attr("id");if(b.indexOf("en")!=-1){a="en"}else{if(b.indexOf("de")!=-1){a="de"}else{a="unknown value"}}}});return a};getDiscussionLanguage=function(){var b=$("#issue_info").data("discussion-language"),a="unknown identifier";if(b.indexOf("en")!=-1){a="en"}else{if(b.indexOf("de")!=-1){a="de"}else{a="unknown value"}}return a};var checkmark="&#x2713;";var ballot="&#x2717;";var and="and";var answer="answer";var andAtTheSameTime="andAtTheSameTime";var addedEverything="addedEverything";var addTopic="addTopic";var addTopicTitleText="addTopicTitleText";var addTopicShortText="addTopicShortText";var addTopicLangText="addTopicLangText";var acceptIt="acceptIt";var allEditsDone="allEditsDone";var allStatementsPosted="allStatementsPosted";var allGivenVotes="allGivenVotes";var author="author";var avatar="avatar";var acceptItTitle="acceptItTitle";var contactSubmit="contactSubmit";var correctionsSet="correctionsSet";var because="because";var changelog="changelog";var checkFirstname="checkFirstname";var checkLastname="checkLastname";var checkNickname="checkNickname";var checkEmail="checkEmail";var checkPassword="checkPassword";var checkConfirmation="checkConfirmation";var checkPasswordConfirm="checkPasswordConfirm";var countOfArguments="countOfArguments";var dataRemoved="dataRemoved";var didYouMean="didYouMean";var duplicateDialog="duplicateDialog";var doNotHesitateToContact="doNotHesitateToContact";var date="date";var deleteTrack="deleteTrack";var deleteHistory="deleteHistory";var deleteStatisticsTitle="deleteStatisticsTitle";var deleteStatisticsBody="deleteStatisticsBody";var euCookiePopupTitle="euCookiePopupTitle";var euCookiePopupText="euCookiePopupText";var euCookiePopoupButton1="euCookiePopoupButton1";var euCookiePopoupButton2="euCookiePopoupButton2";var empty_news_input="empty_news_input";var email="email";var emailWasSent="emailWasSent";var emailWasNotSent="emailWasNotSent";var emailUnknown="emailUnknown";var edit="edit";var errorCode="error_code";var editTitle="editTitle";var forText="forText";var forward="forward";var fillLine="fillLine";var feelFreeToShareUrl="feelFreeToShareUrl";var fetchLongUrl="fetchLongUrl";var fetchShortUrl="fetchShortUrl";var forgotPassword="forgotPassword";var firstname="firstname";var gender="gender";var generateSecurePassword="generateSecurePassword";var goodPointTakeMeBackButtonText="goodPointTakeMeBackButtonText";var group_uid="group_uid";var history="history";var haveALookAt="haveALookAt";var hidePasswordRequest="hidePasswordRequest";var hideGenerator="hideGenerator";var inputEmpty="inputEmpty";var internalError="internalError";var interestingOnDBAS="interestingOnDBAS";var initialPositionInterest="initialPositionInterest";var itIsTrueThat="itIsTrueThat";var itIsFalseThat="itIsFalseThat";var isItTrueThat="isItTrueThat";var isItFalseThat="isItFalseThat";var keepSetting="keepSetting";var hideAllUsers="hideAllUsers";var hideAllArguments="hideAllArguments";var languageCouldNotBeSwitched="languageCouldNotBeSwitched";var last_action="last_action";var last_login="last_login";var legend="legend";var logfile="logfile";var login="login";var letsGo="letsGo";var listOfDoneEdits="listOfDoneEdits";var listOfPostedStatements="listOfPostedStatements";var listOfGivenVotes="listOfGivenVotes";var medium="medium";var messageInfoTitle="messageInfoTitle";var messageInfoStatementCreatedBy="messageInfoStatementCreatedBy";var messageInfoAt="messageInfoAt";var messageInfoMessage="messageInfoMessage";var messageInfoCurrentlySupported="messageInfoCurrentlySupported";var messageInfoParticipant="messageInfoParticipant";var messageInfoParticipantPl="messageInfoParticipantPl";var messageInfoSupporterSg="messageInfoSupporterSg";var messageInfoSupporterPl="messageInfoSupporterPl";var nickname="nickname";var noCorrections="noCorrections";var noCorrectionsSet="noCorrectionsSet";var noDecisionDone="noDecisionDone";var notInsertedErrorBecauseEmpty="notInsertedErrorBecauseEmpty";var notInsertedErrorBecauseDuplicate="notInsertedErrorBecauseDuplicate";var notInsertedErrorBecauseUnknown="notInsertedErrorBecauseUnknown";var notInsertedErrorBecauseInternal="notInsertedErrorBecauseInternal";var notInsertedErrorBecauseTooShort="notInsertedErrorBecauseTooShort";var noTrackedData="noTrackedData";var noDecisionstaken="noDecisionstaken";var noEntries="noEntries";var noEntriesFor="noEntriesFor";var note="note";var neww="new";var number="number";var notificationWasSend="notificationWasSend";var opinionBarometer="opinionBarometer";var options="options";var ohsnap="ohsnap";var report="report";var reportTitle="reportTitle";var passwordSubmit="passwordSubmit";var pinNavigation="pinNavigation";var registered="registered";var requestTrack="requestTrack";var refreshTrack="refreshTrack";var requestHistory="requestHistory";var refreshHistory="refreshHistory";var requestFailed="requestFailed";var requestFailedBadToken="requestFailedBadToken";var requestFailedInternalError="requestFailedInternalError";var restartOnError="restartOnError";var saveMyStatement="saveMyStatement";var saveMyStatements="saveMyStatements";var showAllUsers="showAllUsers";var showAllArguments="showAllArguments";var showMeAnArgumentFor="showMeAnArgumentFor";var strength="strength";var strong="strong";var shortenedBy="shortenedBy";var statisticsDeleted="statisticsDeleted";var statisticsNotDeleted="statisticsNotDeleted";var statisticsNotFetched="statisticsNotFetched";var statisticsNotThere="statisticsNotThere";var switchDiscussion="switchDiscussion";var switchDiscussionText1="switchDiscussionText1";var switchDiscussionText2="switchDiscussionText2";var switchDiscussionText3="switchDiscussionText3";var surname="surname";var showAllAttacksTitle="showAllAttacksTitle";var showAllUsersTitle="showAllUsersTitle";var text="text";var to="to";var textMinCountMessage1="textMinCountMessage1";var textMinCountMessage2="textMinCountMessage2";var textMaxCountMessage="textMaxCountMessage";var timestamp="timestamp";var typeofVote="typeofVote";var usersWithSameOpinion="usersWithSameOpinion";var unpinNavigation="unpinNavigation";var veryweak="veryweak";var valid="valid";var vote="vote";var votes="votes";var weak="weak";var WARNING_CHANGE_DISCUSSION_POPUP="WARNING_CHANGE_DISCUSSION_POPUP";var BUBBLE_INFOS="SPEECH_BUBBLE_INFOS";var urlContact="contact";var urlLogin="login";var urlNews="news";var urlContent="discuss";var urlSettings="settings";var urlImprint="imprint";var urlLogout="logout";var urlReview="review";var dbas_en={avatar:"Avatar",and:"and",answer:"antworten",andAtTheSameTime:"and at the same time",addedEverything:"Everything was added.",addTopic:"Add a Topic",addTopicTitleText:"Please enter your topic here:",addTopicShortText:"Please enter a shorttext for your topic here:",addTopicLangText:"Please select the language of the new discussion here:",acceptIt:"Accept it...",acceptItTitle:"Accept it...",allEditsDone:"All edits you've done",allStatementsPosted:"All statements you've posted",allGivenVotes:"All Votes",author:"Author",because:"because",countOfArguments:"Count of arguments",confirmTranslation:"If you change the language, your process on this page will be lost and you have to restart the discussion!",correctionsSet:"Your correction was set.",changelog:"changelog",checkFirstname:"Better check your first name, because the input is empty!",checkLastname:"Better check your last name, because the input is empty!",checkNickname:"Better check your nickname, because the input is empty!",checkEmail:"Better check your email, because the input is empty!",checkPassword:"Better check your password, because the input is empty!",checkConfirmation:"Better check the confirmation of your password, because the input is empty!",checkPasswordConfirm:"Better check your passwords, because they are not equal!",deleteTrack:"Delete track",deleteHistory:"Delete history",dataRemoved:"Data was successfully removed.",date:"Date",didYouMean:"Top10 statements, which you probably could mean:",duplicateDialog:"This textversion is deprecated, because it was already edited to this version.\nDo you want to set this version as the current one once again?",doNotHesitateToContact:'Do not hesitate to <b><span style="cursor: pointer;" id="contact_on_error">contact us (click here)</span></b>',deleteStatisticsTitle:"Delete Statistics",deleteStatisticsBody:"Are you sure? This will delete all stored information about clicks respectively votes you have done.",euCookiePopupTitle:"This website is using cookies and Piwik.",euCookiePopupText:"We use them to give you the best experience. If you continue using our website, we'll assume that you are happy to receive all cookies on this website and beeing tracked for academic purpose. All tracked data are saved anonymously with reduced masked IP-adresses.",euCookiePopoupButton1:"Continue",euCookiePopoupButton2:"Learn&nbsp;more",empty_news_input:"News title or text is empty or too short!",email:"E-Mail",emailWasSent:"An E-Mail was sent to the given address.",emailWasNotSent:"Your message could not be send due to a system error!",emailUnknown:"The given e-mail address is unkown.",error_code:"Error code",edit:"Edit",editTitle:"Editing the statements.",feelFreeToShareUrl:"Please feel free to share this url",fetchLongUrl:"Fetch long url!",fetchShortUrl:"Fetch short url!",forgotPassword:"Forgot Password",forward:"forward",firstname:"Firstname",fillLine:"Please, fill this this line with your report",gender:"Gender",generateSecurePassword:"Generate secure password",goodPointTakeMeBackButtonText:"I agree, that is a good argument! Take me one step back.",group_uid:"Group",haveALookAt:"Hey, please have a look at ",hidePasswordRequest:"Hide Password Request",hideGenerator:"Hide Generator",internalError:"<strong>Internal Error:</strong> Maybe the server is offline.",inputEmpty:"Input is empty!",initialPositionInterest:"What is the initial position you are interested in?",interestingOnDBAS:"Interesting discussion on DBAS",itIsTrueThat:"it is true that",itIsFalseThat:"it is false that",isItTrueThat:"it is true that",isItFalseThat:"it is false that",keepSetting:"Keep this",hideAllUsers:"Hide all users",hideAllArguments:"Hide all arguments",languageCouldNotBeSwitched:"Unfortunately, the language could not be switched",last_action:"Last Action",last_login:"Last Login",legend:"Legend",logfile:"Logfile for",login:"Log In",letsGo:"Click here to start now!",listOfPostedStatements:"This is a list of all posted statements:",listOfDoneEdits:"This is a list of all edits:",listOfGivenVotes:"This is a list of all votes:",medium:"medium",messageInfoTitle:"Infos about message",messageInfoStatementCreatedBy:"This was created by",messageInfoAt:"at",messageInfoMessage:"Message",messageInfoCurrentlySupported:"Currently it is supported by",messageInfoParticipant:"participant",messageInfoParticipantPl:"s",messageInfoSupporterSg:"Supporter is",messageInfoSupporterPl:"Supporters are",nickname:"Nickname","new":"NEW",noCorrections:"No corrections for the given statement.",noCorrectionsSet:"Correction could not be set, because your user was not fount in the database. Are you currently logged in?",noDecisionDone:"No decision was done.",notInsertedErrorBecauseEmpty:"Your idea was not inserted, because your input text is empty.",notInsertedErrorBecauseDuplicate:"Your idea was not inserted, because your idea is a duplicate.",notInsertedErrorBecauseUnknown:"Your idea was not inserted due to an unkown error.",notInsertedErrorBecauseInternal:"Your idea was not inserted due to an internal error.",notInsertedErrorBecauseTooShort:"Your idea was not inserted due to the shortness.",notificationWasSend:"Notification was send!",noEntriesFor:"No entries for",noTrackedData:"No data was tracked.",noDecisionstaken:"No decision has yet been taken.",number:"No",note:"Note",opinionBarometer:"Opinion Barometer",options:"Options",ohsnap:"Oh snap!",passwordSubmit:"Change Password",pinNavigation:"Pin Navigation",registered:"Registered",restartOnError:"Please try to reload this page or restart the discussion when the error stays",report:"Report",reportTitle:"Opens a new mail for reporting an issue!",requestTrack:"Request track",refreshTrack:"Refresh track",requestHistory:"Request history",refreshHistory:"Refresh history",requestFailed:"Request failed, please reload the page.",requestFailedBadToken:"Request failed due to bad token, please reload the page.",requestFailedInternalError:'Request failed due to bad token, please reload this page. If the reload fails again, please do not hesitate to <span style="cursor: pointer;" id="contact_on_error">contact us (click here)</span>',saveMyStatement:"Save my Statement!",saveMyStatements:"Save my Statements!",showAllUsers:"Show all users",showAllArguments:"Show all arguments",showAllArgumentsTitle:"Show all arguments, done by users",showAllUsersTitle:"Show all users, which are registered",supportPosition:"support position",strength:"Strength",strong:"strong",statisticsDeleted:"Statistics were deleted.",statisticsNotDeleted:"Statistics could not be deleted.",statisticsNotFetched:"Statistics could not be fetched.",statisticsNotThere:"You have no statistics.",surname:"Surname",shortenedBy:"which was shortened by",switchDiscussion:"Change of discussion's topic",switchDiscussionText1:"If you accept, you will change the topic of the discussion to",switchDiscussionText2:"and the discussion will be restarted.",switchDiscussionText3:"Please keep in mind, that the discussion language is without reference to the system language.",showMeAnArgumentFor:"Show me an argument for",text:"Text",to:"To",timestamp:"Timestamp",typeofVote:"Agree / Disagree",textMinCountMessage1:"Only",textMinCountMessage2:"characters remaining!",textMaxCountMessage:"Caution, your input is very long!",usersWithSameOpinion:"Users with same opinion",unpinNavigation:"Unpin Navigation",valid:"Valid",veryweak:"very weak",vote:"vote",votes:"votes",weak:"weak"};var dbas_de={avatar:"Avatar",and:"und",answer:"antworten",addTopic:"Thema hinzufgen",addTopicTitleText:"Bitte geben Sie Ihr Thema an:",addTopicShortText:"Bitte geben Sie die Kurform Ihres Themas an:",addTopicLangText:"Bitte geben Sie die Sprache Ihres Themas an:",andAtTheSameTime:"und zur selben Zeit",addedEverything:"Alles wurde hinzugefgt.",acceptItTitle:"Einsenden...",acceptIt:"Eintragen...",allEditsDone:"Alle nderungen von Ihnen:",allStatementsPosted:"Alle Aussagen von Ihnen:",allGivenVotes:"Alle Stimmen",author:"Autor",because:"weil",confirmTranslation:"Wenn Sie die Sprache ndern, geht Ihr aktueller Fortschritt verloren!",correctionsSet:"Ihre Korrektur wurde gesetzt.",countOfArguments:"Anzahl der Argumente",changelog:"nderungsprotokoll",checkFirstname:"Bitte berprfen Sie Ihren Vornamen, da die Eingabe leer ist!",checkLastname:"Bitte berprfen Sie Ihren Nachnamen, da die Eingabe leer ist!",checkNickname:"Bitte berprfen Sie Ihren Spitznamen, da die Eingabe leer ist!",checkEmail:"Bitte berprfen Sie Ihre E-Mail, da die Eingabe leer ist!",checkPassword:"Bitte berprfen Sie Ihre Passwort, da die Eingabe leer ist!",checkConfirmation:"Bitte berprfen Sie Ihre Passwort-Besttigung, da die Eingabe leer ist!",checkPasswordConfirm:"Bitte berprfen Sie Ihre Passwrter, da die Passwrter nicht gleich sind!",dataRemoved:"Daten wurden erfolgreich gelscht.",date:"Datum",didYouMean:"Top 10 der Aussagen, die Sie eventuell meinten:",duplicateDialog:"Diese Textversion ist veraltet, weil Sie schon editiert wurde.\nMchten Sie diese Version dennoch als die aktuellste markieren?",deleteTrack:"Track lschen",deleteHistory:"History lschen",doNotHesitateToContact:'Bitte zgern Sie bei Fehlern nicht, <b><span style="cursor: pointer;" id="contact_on_error">uns zu kontaktieren (hier klicken)</span></b>',deleteStatisticsTitle:"Statistik lschen",deleteStatisticsBody:"Dies lscht die Statstik. Dadurch werden alle Klicks, die von Ihnen gettigt wurden, wieder entfernt.",euCookiePopupTitle:"Diese Seite nutzt Cookies und Piwik.",euCookiePopupText:"Wir benutzen Sie, um Ihnen die beste Erfahrung zu geben. Wenn Sie unsere Seite weiter nutzen, nehmen Sie alle Cookies unserer Seite an und sind glcklich damit. Zustzlich tracken wir Ihre Aktionen und speichern diese anonym ab. Dabei wird Ihre IP-Adresse maskiert.",euCookiePopoupButton1:"Weiter",euCookiePopoupButton2:"Lerne&nbsp;mehr",empty_news_input:"Nachrichten-Titel oder Text ist leer oder zu kurz!",email:"E-Mail",emailWasSent:"Eine E-Mail wurde zu der genannten Adresse gesendet.",emailWasNotSent:"Ihre E-Mail konnte nicht gesendet werden!",emailUnknown:"Die Adresse ist nicht gltig.",edit:"Bearbeiten",error_code:"Fehler-Code",editTitle:"Aussagen bearbeiten",fillLine:"Bitte, fllen Sie diese Zeilen mit Ihrer Meldung",feelFreeToShareUrl:"Bitte teilen Sie diese URL",fetchLongUrl:"Normale URL",fetchShortUrl:"Kurze URL",forgotPassword:"Passwort vergessen",forward:"weiterleiten",firstname:"Vorname",gender:"Geschlecht",generateSecurePassword:"Generate secure password",goodPointTakeMeBackButtonText:"Ich stimme zu, dass ist ein gutes Argument. Geh einen Schritt zurck.",group_uid:"Gruppe",haveALookAt:"Hey, schau dir mal das an: ",hidePasswordRequest:"Verstecke die Passwort-Anfrage",hideGenerator:"Verstecke Generator",internalError:"<strong>Interner Fehler:</strong> Wahrscheinlich ist der Server nicht erreichbar. Bitte laden Sie die Seite erneut!.",inputEmpty:"Ihre Eingabe ist leer!",initialPositionInterest:"An welcher Aussage sind Sie interessiert?",interestingOnDBAS:"Interessante Diskussion in D-BAS",itIsTrueThat:"es ist richtig, dass",itIsFalseThat:"es ist falsch, dass",isItTrueThat:"ist es richtig, dass",isItFalseThat:"ist es falsch, dass",keepSetting:"Entscheidung merken",hideAllUsers:"Verstecke alle Benutzer",hideAllArguments:"Verstecke alle Argumente",hideAllAttacks:"Verstecke alle Angriffe",languageCouldNotBeSwitched:"Leider konnte die Sprache nicht gewechselt werden",last_action:"Letzte Aktion",last_login:"Letze Anmeldung",logfile:"Logdatei fr",login:"Login",legend:"Legende",letsGo:"Wenn Sie direkt starten mchten, klicken Sie bitte hier!",listOfPostedStatements:"Dies ist eine Liste von allen gemachten Aussagen:",listOfDoneEdits:"Dies ist eine Liste von allen nderungen:",listOfGivenVotes:"Dies ist eine Liste von allen Stimmen:",medium:"mittel",messageInfoTitle:"Informationen ber eine Aussage",messageInfoStatementCreatedBy:"Diese Aussage stammt von",messageInfoAt:"am",messageInfoMessage:"Aussage",messageInfoCurrentlySupported:"Sie wird aktuell von",messageInfoParticipant:"Teilnehmer/in untersttzt",messageInfoParticipantPl:"/n/nen",messageInfoSupporterSg:"Untersttzer/in ist",messageInfoSupporterPl:"Untersttzer/innen sind",nickname:"Spitzname","new":"neu",noCorrections:"Keinte Korreturen fr die aktuelle Aussage.",noDecisionDone:"Es liegt keine Entscheidung vor.",noCorrectionsSet:"Korrektur wurde nicht gespeichert, da der Benutzer unbekannt ist. Sind Sie angemeldet?",notInsertedErrorBecauseEmpty:"Ihre Idee wurde nicht gespeichert, da das Feld leer ist.",notInsertedErrorBecauseDuplicate:"Ihre Idee wurde nicht gespeichert, da Ihre Idee ein Duplikat ist.",notInsertedErrorBecauseUnknown:"Ihre Idee wurde aufgrund eines unbekannten Fehlers nicht gespeichert.",notInsertedErrorBecauseInternal:"Ihre Idee wurde aufgrund eines internen Fehlers nicht gespeichert.",notInsertedErrorBecauseTooShort:"Ihre Idee wurde aufgrund der Krze nicht gespeichert.",notificationWasSend:"Nachricht wurde gesendet",noEntries:"Keine Eintrge vorhanden",noEntriesFor:"Keine Eintrge vorhanden fr",noTrackedData:"Keine Daten wurden gespeichert.",noDecisionstaken:"Es wurden noch keine Entscheidungen getroffen",number:"Nr",note:"Hinweis",opinionBarometer:"Meinungsbarometer",options:"Optionen",ohsnap:"Verdammt!",passwordSubmit:"Passwort ndern",pinNavigation:"Navigation anheften",report:"Melden",reportTitle:"ffnet eine E-Mail, damit etwas gemeldet werden kann.",registered:"Registriert",requestTrack:"Track anfragen",refreshTrack:"Track neuladen",requestHistory:"History anfragen",refreshHistory:"History neuladen",requestFailed:"Anfrage fehlgeschlagen, bitte laden Sie die Seite erneut.",requestFailedBadToken:"Anfrage aufgrund eines falschen Tokens fehlgeschlagen. Bitte laden Sie die Seite neu.",requestFailedInternalError:'Anfrage aufgrund eines internen Fehlers fehlgeschlagen. Bitte laden Sie die Seite neu, sollte der Fehler bestehen bleiben, so <span style="cursor: pointer;" id="contact_on_error">kontaktieren sie uns bitte (hier klicken)</span>',restartOnError:"Bitte laden Sie die Seite erneut oder starten Sie die Diskussion neu, sofern der Fehler bleibt",saveMyStatement:"Aussage speichern!",saveMyStatements:"Ausagen speichern!",showAllUsers:"Zeig' alle Benutzer",showAllArguments:"Zeig' alle Argumente",showAllArgumentsTitle:"Zeigt alle Argumente",showAllUsersTitle:"Zeige alle Nutzer",statisticsDeleted:"Statistikten wurden gelscht.",statisticsNotDeleted:"Statistikten konnten nicht gelscht werden.",statisticsNotFetched:"Statistikten konnten nicht angefordert werden.",statisticsNotThere:"Sie haben keine Statistiken.",strength:"Strke",strong:"stark",shortenedBy:"gekrzt mit",switchDiscussion:"Diskussionsthema ndern",switchDiscussionText1:"Wenn Sie akzeptieren, wird das Diskussionsthema gewechselt zu",switchDiscussionText2:"und die Diskussion neugestartet.",switchDiscussionText3:"Bitte beachten Sie dabei, dass die Diskussionssprache unabhngig von der Systemsprache ist.",surname:"Nachname",showMeAnArgumentFor:"Zeig' mir ein Argument fr",text:"Text",to:"An",timestamp:"Zeit",usersWithSameOpinion:"Benutzer mit derselben Meinung",unpinNavigation:"Navigation lsen",typeofVote:"Zustimmung/Ablehnung",textMinCountMessage1:"Nur",textMinCountMessage2:"Zeichen verbleibend!",textMaxCountMessage:"Achtung, die Eingabe ist sehr lang!",valid:"Gltigkeit",veryweak:"sehr schwach",vote:"Stimme",votes:"Stimmen",weak:"schwach"};$(function(){if(window.location.href.indexOf(mainpage+"user/")==-1){return}"use strict";$("#send-notification").each(function(){$(this).click(function(){var a=$(this);$("#popup-writing-notification-recipient").hide();$("#popup-writing-notification").modal("show");$("#popup-writing-notification-success").hide();$("#popup-writing-notification-failed").hide();$("#popup-writing-notification-send").click(function(){var b=window.location.href,d=b.split("/"),c;if(b.indexOf("/user/")!=-1){c=d[d.length-1]}else{c=a.prev().text()}new AjaxNotificationHandler().sendNotification(c.trim())})})});new AjaxUserHandler().getPublicUserData()});function User(){var c=["rgba(187,222,251,0.4)","rgba(178,223,219,0.4)","rgba(255,204,188,0.4)","rgba(215,204,200,0.4"];var a=["#2196F3","#009688","#FF5722","#795548"];var b=["#1565C0","#00695C","#D84315","#4E342E"];this.callbackDone=function(d){var e=$.parseJSON(d);if(e.error.length!=0){setGlobalErrorHandler(_t(ohsnap),e.error);return}this.createChart(e,$("#user-activity-chart-space"),"user-activity-canvas",0);this.createChart(e,$("#user-vote-chart-space"),"user-vote-canvas",1);this.createChart(e,$("#user-statement-chart-space"),"user-statement-canvas",2);this.createChart(e,$("#user-edit-chart-space"),"user-edit-canvas",3);this.setLegendCSS()};this.createChart=function(i,h,j,e){var d,g,f;h.append('<canvas id="'+j+'" width="500" height="300" style= "display: block; margin: 0 auto;"></canvas>');g={labels:i["labels"+(e+1)],datasets:[{label:i["label"+(e+1)],fillColor:c[e],strokeColor:a[e],pointStrokeColor:b[e],pointColor:"#fff",data:i["data"+(e+1)],hover:{mode:"single"}}]};d=new Chart(document.getElementById(j).getContext("2d")).Line(g);f=$("<div>").addClass("chart-legend").append(d.generateLegend());h.prepend(f)};this.setLegendCSS=function(){var d=$(".chart-legend");d.find("ul").css({"list-style-type":"none"});d.find("li").css({clear:"both",padding:"2px"});d.find("span").css({"border-radius":"4px",padding:"0.2em",color:"white"}).addClass("lead")};this.getPublicUserDataFail=function(){alert("fail")}};var colors=["#F44336","#673AB7","#03A9F4","#4CAF50","#FFEB3B","#FF5722","#607D8B","#E91E63","#3F51B5","#00BCD4","#8BC34A","#FFC107","#795548","#000000","#9C27B0","#2196F3","#009688","#CDDC39","#FF9800","#9E9E9E"],highlightColors=["#e57373","#9575cd","#64b5f6","#81c784","#fff176","#ff8a65","#90a4ae","#f06292","#7986cb","#4dd0e1","#aed581","#ffd54f","#a1887f","#424242","#ba68c8","#64b5f6","#4db6ac","#dce775","#ffb74d","#e0e0e0"];function DiscussionBarometer(){this.showBarometer=function(){var c=0,b=[],a=window.location.href.split("?")[0],e=a.split("/"),d="position";if(a.indexOf("/attitude/")!=-1){d="attitude";c=e[e.length-1];new AjaxGraphHandler().getUserGraphData(c,d)}else{if(a.indexOf("/justify/")!=-1||window.location.href.indexOf("/choose/")!=-1){d="justify";$("#discussions-space-list li:not(:last-child) input").each(function(){b.push($(this).attr("id").substr(5))});new AjaxGraphHandler().getUserGraphData(b,d)}else{if(a.indexOf("/reaction/")!=-1){d="argument";b.push(e[e.length-3]);b.push(e[e.length-1]);new AjaxGraphHandler().getUserGraphData(b,d)}else{d="position";$("#discussions-space-list li:not(:last-child) label").each(function(){b.push($(this).attr("id"))});new AjaxGraphHandler().getUserGraphData(b,d)}}}};this.callbackIfDoneForGetDictionary=function(c,a){var f,b=new DiscussionBarometer();try{f=JSON.parse(c);console.log(f)}catch(d){setGlobalErrorHandler(_t_discussion(ohsnap),_t_discussion(internalError));alert("parsing-json: "+d);return}$("#"+popupConfirmDialogId).modal("show");$("#"+popupConfirmDialogId+" div.modal-body").html('<canvas id="chartCanvas" width="400" height="400" style= "display: block; margin: 0 auto; margin-bottom: 20px;"></canvas>');$("#"+popupConfirmDialogAcceptBtn).show().click(function(){$("#"+popupConfirmDialogId).modal("hide")}).removeClass("btn-success");$("#"+popupConfirmDialogRefuseBtn).hide();switch(a){case"attitude":b.createAttitudeBarometer(f);break;case"position":b.createStatementBarometer(f);break;case"justify":b.createStatementBarometer(f);break;case"argument":b.createArgumentBarometer(f);break}$("#"+popupConfirmDialogId).find(".modal-title").text(f.title).css({"line-height":"1.0"})};this.createAttitudeBarometer=function(c){$("#"+popupConfirmDialogId+" h4.modal-title").html(c.text);var a=$("#"+popupConfirmDialogId+" div.modal-body #chartCanvas").get(0).getContext("2d");var d=[{value:c.agree_users.length,color:colors[3],highlight:highlightColors[3],label:c.agree_text},{value:c.disagree_users.length,color:colors[0],highlight:highlightColors[0],label:c.disagree_text}];if(c.agree_users.length+c.disagree_users.length==0){this.setAlertIntoDialog();$("#"+popupConfirmDialogId+" div.modal-body #chartCanvas").remove()}else{options=new DiscussionBarometer().createLegendOptions();var b=new Chart(a).Pie(d,options);new DiscussionBarometer().createLegend(b)}};this.createStatementBarometer=function(e){var a=$("#"+popupConfirmDialogId+" div.modal-body #chartCanvas").get(0).getContext("2d"),d=new Chart(a).Pie(),c=0,f=0;$.each(e.opinions,function(g,h){if(h.text!=null){d.addData({value:h.users.length,color:colors[c],highlight:highlightColors[c],label:h.text});f+=h.users.length;c+=1}});if(f==0){this.setAlertIntoDialog();$("#"+popupConfirmDialogId+" div.modal-body #chartCanvas").remove()}else{var b=new DiscussionBarometer().createLegendOptions();$.extend(d.options,b);new DiscussionBarometer().createLegend(d)}};this.createArgumentBarometer=function(e){var a=$("#"+popupConfirmDialogId+" div.modal-body #chartCanvas").get(0).getContext("2d"),d=new Chart(a).Pie(),c=0,f=0;$.each(e.opinions,function(g,h){if(g!="error"){d.addData({value:h.users.length,color:colors[c],highlight:highlightColors[c],label:h.text});f+=h.users.length;c+=1}});if(f==0){this.setAlertIntoDialog();$("#"+popupConfirmDialogId+" div.modal-body #chartCanvas").remove()}else{var b=new DiscussionBarometer().createLegendOptions();$.extend(d.options,b);new DiscussionBarometer().createLegend(d)}};this.createLegendOptions=function(){return options={legendTemplate:'<ul class = "chart"><% for (var i=0; i<segments.length; i++) { %><li class = "chart"><span class = "chart" style = "background-color: <%=segments[i].fillColor%>"> </span><% if (segments[i].label) { %><%= segments[i].label %><% } %><% if (segments[i].value == 0) { %><%= " (0 " + _t_discussion(votes) + ")" %><% } %><% if (segments[i].value == 1) { %><%= " (" + segments[i].value + " " + _t_discussion(vote) + ")" %><% } %><% if (segments[i].value > 1) { %><%= " (" + segments[i].value + " " + _t_discussion(votes) + ")" %><% } %></li><% } %></ul>',tooltipTemplate:"<%=value%>"}};this.createLegend=function(b){var a=b.generateLegend();$("#"+popupConfirmDialogId+" div.modal-body").append('<div id = "chart-legend">'+a+"</div>")};this.setAlertIntoDialog=function(){var c,a,b;c=$("<div>").attr("class","alert alert-dismissible alert-info");a=$("<strong>").text("Ohh...! ");b=$("<span>").text(_t_discussion(noDecisionstaken));c.append(a).append(b);$("#"+popupConfirmDialogId+" div.modal-body").append(c);$("#"+popupConfirmDialogId).on("hidden.bs.modal",function(d){c.remove()})};this.callbackIfFailForGetDictionary=function(){setGlobalErrorHandler(_t(ohsnap),_t_discussion(requestFailed))}};function DiscussionGraph(){var a;this.showGraph=function(){new AjaxGraphHandler().getDiscussionGraphData("/graph/d3")};this.callbackIfDoneForDiscussionGraph=function(d){var b=$.parseJSON(d);try{a=new DiscussionGraph().setDefaultViewParams(true,b,null)}catch(c){new DiscussionGraph().setDefaultViewParams(false,null,a);setGlobalErrorHandler(_t(ohsnap),_t(internalError))}};this.setDefaultViewParams=function(f,d,c){$("#hide-content").hide();$("#show-content").show();$("#wide-view").show();$("#tight-view").hide();var b=$("#"+graphViewContainerSpaceId);b.empty();if(f){try{return this.getD3Graph(d)}catch(e){new DiscussionGraph().setDefaultViewParams(false,null,c);setGlobalErrorHandler("Oh Snap!",_t(internalError));console.log("D3: "+e.message)}}else{b.empty()}};this.getD3Graph=function(m){var c=$("#"+graphViewContainerSpaceId);c.empty();var e=c.width();var o=c.outerHeight();var k=d3.select("#"+graphViewContainerSpaceId).append("svg").attr("width",e).attr("height",o);var d=d3.layout.force().gravity(0.07).charge(-300).linkDistance(80).size([e,o]);var i=[];m.edges.forEach(function(r){var p=m.nodes.filter(function(s){return s.id===r.source})[0],q=m.nodes.filter(function(s){return s.id===r.target})[0];i.push({source:p,target:q,color:r.color})});d.links(i).nodes(m.nodes).on("tick",h);var j=k.append("defs").selectAll("marker").data(i).enter().append("svg:marker").attr("id",function(p){return"marker_"+p.color}).attr("refX",10).attr("refY",2.2).attr("markerWidth",10).attr("markerHeight",10).attr("orient","auto").append("path").attr("d","M0,0 V4 L5,2 Z10").attr("fill",function(p){return p.color});var l=k.selectAll(".link").data(i).enter().append("line").attr("class","link").style("stroke",function(p){return p.color}).style("stroke-width","2px").attr("marker-end",function(p){return"url(#marker_"+p.color+")"});var g=k.selectAll(".node").data(d.nodes()).enter().append("g").attr("class","node").call(d.drag);var b=g.append("circle").attr("r",function(p){return p.size}).attr("fill",function(p){return p.color});var f=new Helper();var n=g.append("text").each(function(q){var p=f.cutTextOnChar(q.label,50," ");d3.select(this).append("tspan").text(p).attr("dy","1.2em").attr("x","0").attr("text-anchor","middle").attr("class","tspan")});d.start();function h(){l.attr("x1",function(p){return p.source.x}).attr("y1",function(p){return p.source.y}).attr("x2",function(p){return p.target.x}).attr("y2",function(p){return p.target.y});b.attr("cx",function(p){return p.x}).attr("cy",function(p){return p.y});n.attr("transform",function(p){return"translate("+p.x+","+(p.y-50)+")"})}}};function DiscussionGraph(){var a;this.showGraph=function(){new AjaxGraphHandler().getDiscussionGraphData("/graph/sigma")};this.callbackIfDoneForDiscussionGraph=function(e){var c=$.parseJSON(e);try{a=new DiscussionGraph().setDefaultViewParams(true,c,null)}catch(d){new DiscussionGraph().setDefaultViewParams(false,null,null);setGlobalErrorHandler(_t(ohsnap),_t(internalError));return}var b=sigma.plugins.dragNodes(a,a.renderers[0]);b.bind("startdrag",function(f){a.stopForceAtlas2()});b.bind("drop",function(f){});$("#graph-view-container-space").attr("style","height:95%; float: left;");$("#start-view").click(function(){new DiscussionGraph().setDefaultViewParams(true,c,a)});$("#show-content").click(function(){a.settings({labelThreshold:0,defaultLabelColor:"#2E2E2E"});$("#show-content").hide();$("#hide-content").show()});$("#hide-content").click(function(){a.settings({labelThreshold:8});$("#show-content").show();$("#hide-content").hide()});$("#wide-view").click(function(){if(!a.isForceAtlas2Running()){a.startForceAtlas2({worker:true,linLogMode:false,strongGravityMode:true,barnesHutTheta:10,scalingRatio:20})}$("#wide-view").hide();$("#tight-view").show();a.configForceAtlas2({strongGravityMode:false,linLogMode:true,outboundAttractionDistribution:false})});$("#tight-view").click(function(){a.configForceAtlas2({outboundAttractionDistribution:true});$("#wide-view").show();$("#tight-view").hide()});$("#snapshot-graph").click(function(){var f=new Date(Date.now());var g=f.getYear+"-"+f.getMonth+"-"+f.getHours();g+="_"+f.getMinutes()+"-"+f.getSeconds();g+="_"+new Helper().getCurrentIssueId();window.open(a.renderers[0].snapshot({format:"png",background:"white",filename:g+".png",labels:false}))});$("#"+closeGraphViewContainerId).click(function(){new DiscussionGraph().setDefaultViewParams(false,null,a)})};this.setDefaultViewParams=function(b,c,e){$("#hide-content").hide();$("#show-content").show();$("#wide-view").show();$("#tight-view").hide();if(e!=null){e.stopForceAtlas2();e.killForceAtlas2();e.graph.clear();e.graph.kill()}$("#"+graphViewContainerSpaceId).empty();if(b){try{return this.getSigmaGraph(c)}catch(d){new DiscussionGraph().setDefaultViewParams(false,null,e);setGlobalErrorHandler(_t(ohsnap),_t(internalError))}}else{$("#"+graphViewContainerSpaceId).empty()}};this.getSigmaGraph=function(b){$("#"+graphViewContainerSpaceId).empty();return new sigma({graph:b,renderer:{type:"canvas",container:graphViewContainerSpaceId},settings:{edgeColor:"default",defaultEdgeColor:"#666",defaultEdgeLabelColor:"#848484",defaultEdgeLabelSize:8,edgeLabelSize:"proportional",edgeLabelSizePowRatio:1,edgeLabelThreshold:0,defaultLabelHoverColor:"node",defaultHoverLabelBGColor:"#EBEBEB",defaultLabelSize:13,defaultNodeType:"border",defaultNodeBorderColor:"#000",borderSize:3,enableEdgeHovering:true,edgeHoverColor:"edge",defaultEdgeHoverColor:"#000",edgeHoverSizeRatio:1,edgeHoverExtremities:true,doubleClickEnabled:false,hideEdgesOnMove:false,zoomMin:0.2,zoomMax:1,minArrowSize:10,maxEdgeSize:2,sideMargin:1}}).startForceAtlas2({worker:true,strongGravityMode:true,barnesHutTheta:10,scalingRatio:20}).bind("doubleClickNode",function(j){var h=j.data.node.id.substr(j.data.node.id.indexOf("_")+1);var c="";var f='<img class="preload-image" style="height: 20pt; margin-right: 1em;" src="'+b.extras[h].author_gravatar+'">';var d='<a target="_blank" href="'+mainpage+"user/"+b.extras[h].author+'">';var i='<a target="_blank" href="'+mainpage+"user/"+b.extras[h].modifier+'">';var g="<ul>";g+="<li>Content: "+j.data.node.label+"</li>";g+="<li>Node: "+j.data.node.id+"</li>";g+="<li>Supporters: "+b.extras[h].votes+"</li>";g+="<li>Author: "+i+b.extras[h].author+" "+f+"</a></li>";if(b.extras[h].was_modified==="true"){c='<img class="preload-image" style="height: 20pt; margin-right: 1em;" src="'+b.extras[h].modifier_gravatar+'">';g+="<li>Edit by: "+d+b.extras[h].modifier+" "+c+"</a></li>"}g+="</ul>";displayConfirmationDialogWithoutCancelAndFunction("Statement "+h,g)}).refresh()}};function GuiHandler(){var a;var b=300;this.setHandler=function(c){a=c};this.appendAddPremiseRow=function(){var f=$("#add-premise-container-body");var e=$("#"+sendNewPremiseId);var h=new Date().getTime();var c=$("<div>").attr("style","padding-bottom: 2em").addClass("container-three-divs");var k=$("<div>").addClass("flex-div");var g=$("<div>");var d="add-premise-container-main-input-"+h;var l=$("<input>").attr("id",d).attr("type","text").attr("class","form-control").attr("autocomplete","off").attr("placeholder","...").data("min-length","10").keyup(function(){setTextWatcherForMinLength($(this))}).focusin(function(){setTextWatcherForMinLength($(this))});var j=$("<img>").attr("class","icon-rem-premise").attr("src",mainpage+"static/images/icon_minus1.png").attr("title",f.find(".icon-rem-premise").first().attr("title"));var i=$("<img>").attr("class","icon-add-premise").attr("src",mainpage+"static/images/icon_plus1.png").attr("title",f.find(".icon-add-premise").first().attr("title"));c.append(k.append(l)).append(g.append(j).append(i));$("#"+addPremiseContainerBodyId).append(c);i.click(function(){new GuiHandler().appendAddPremiseRow();$(this).hide().prev().show();e.val(_t(saveMyStatements))});f.find(".icon-rem-premise").each(function(){$(this).click(function(){var n=$(this).parent().parent().find("input").attr("id"),m=n.split("-").length==6?n.split("-")[5]:"0";$("#current_"+m).fadeOut().remove();$(this).parent().parent().remove();f.find("div").children().last().show();if(f.find(".container-three-divs").length==1){f.find(".icon-rem-premise").hide();e.val(_t(saveMyStatement))}else{f.find(".icon-rem-premise").show();e.val(_t(saveMyStatements))}})});j.show();$("#"+d).keyup(function(){new Helper().delay(function(){var m=new Helper().escapeHtml($("#"+d).val());new AjaxDiscussionHandler().fuzzySearch(m,d,fuzzy_add_reason,"")},200)})};this.setErrorDescription=function(c){$("#"+discussionErrorDescriptionId).html(c);$("#"+discussionErrorDescriptionSpaceId).show()};this.setDisplayStyleAsDiscussion=function(){this.setImageInactive($("#"+displayStyleIconGuidedId));this.setImageActive($("#"+displayStyleIconIslandId));this.setImageActive($("#"+displayStyleIconExpertId));$("#"+islandViewContainerId).hide();$("#"+graphViewContainerId).hide();$("#"+discussionContainerId).show();$("#"+headerContainerId).show()};this.setDisplayStyleAsIsland=function(){this.setImageActive($("#"+displayStyleIconGuidedId));this.setImageInactive($("#"+displayStyleIconIslandId));this.setImageActive($("#"+displayStyleIconExpertId));$("#"+islandViewContainerId).fadeIn("slow")};this.setDisplayStyleAsGraphView=function(){var d=$("#"+graphViewContainerId);var c=new Main();var e="tacked_graph_sidebar";var g=$("#graph-view-container-header");this.setImageActive($("#"+displayStyleIconGuidedId));this.setImageActive($("#"+displayStyleIconIslandId));this.setImageInactive($("#"+displayStyleIconExpertId));$("#"+islandViewContainerId).hide();$("#"+discussionContainerId).hide();$("#"+headerContainerId).hide();$("#"+addPremiseContainerId).hide();$("#"+graphViewContainerHeaderId).html($("#issue_info").html());var f=new Helper().getMaxSizeOfGraphViewContainer();d.attr("style","height: "+f+"px; margin-left: 2em; margin-right: 2em; margin-bottom: 1em;");f-=g.outerHeight(true)+20;$("#"+graphViewContainerSpaceId).attr("style","height: "+f+"px; margin-left: 0.5em; margin-right: 0.5em; width: 95%");new DiscussionGraph().showGraph();c.setSidebarStyle(d,e);c.setSidebarClicks(d,e)};this.setImageInactive=function(c){c.addClass("inactive-image").css("cursor","not-allowed")};this.setImageActive=function(c){c.removeClass("inactive-image").css("cursor","pointer")};this.setMaxHeightForBubbleSpace=function(){var d=$("#"+discussionBubbleSpaceId),c=0,e=new Helper().getMaxSizeOfDiscussionViewContainer(),g,f=d.find("*[id*=now]");$.each(d.find("div p"),function(){c+=$(this).outerHeight(true);if($(this).parent().attr("href")=="?breadcrumb=true"){$(this).insertAfter($(this).parent());$(this).prev().remove()}});g=f.length==0?"bottom":f;if(c>e){if(e<b){e=b}d.slimscroll({position:"right",height:e+"px",railVisible:true,alwaysVisible:true,start:g,scrollBy:"10px",allowPageScroll:true})}else{c+=20;if(c<50){d.css("min-height","100px")}else{d.css("height",c+"px").css("min-height","300px")}d.css("min-height","100px").css("max-height",e+"px")}};this.showAddPositionContainer=function(){$("#"+addStatementContainerId).show()};this.showAddPremiseContainer=function(){$("#"+addPremiseContainerId).show()};this.showSetStatementContainer=function(i,t,s,c,e,h,u){var r=new GuiHandler(),d,q,k=$("#"+popupSetPremiseGroupsBodyContent).empty(),l=$("#"+popupSetPremiseGroupsPreviousButton).hide(),m=$("#"+popupSetPremiseGroupsNextButton).hide(),g=$("#"+popupSetPremiseGroupsSendButton).addClass("disabled"),j=$("#"+popupSetPremiseGroupsCounter).hide(),o="insert_statements_page_";g.click(function f(){var x=k.find("input:checked"),w,v,y;for(w=0;w<i.length;w++){y=i[w].split(" "+_t_discussion(and)+" ");if(x[w].id.indexOf(attr_more_args)!=-1){for(v=0;v<y.length;v++){t.push([y[v]])}}else{if(x[w].id.indexOf(attr_one_arg)!=-1){t.push(y)}else{t.push([i[w]])}}}if(c==fuzzy_add_reason){new AjaxDiscussionHandler().sendNewPremiseForArgument(e,h,t)}else{if(c==fuzzy_start_premise){new AjaxDiscussionHandler().sendNewStartPremise(t,u,s)}else{alert("Todo: unknown type")}}$("#"+popupSetPremiseGroups).modal("hide")});if(i.length==1){d=r.getPageOfSetStatementContainer(0,i[0]);k.append(d);g.text(_t_discussion(saveMyStatement));d.find("input").each(function(){$(this).click(function v(){g.removeClass("disabled")})})}else{l.show().removeClass("href").attr("max",i.length);l.parent().addClass("disabled");m.show().attr("max",i.length);j.show().text("1/"+i.length);g.text(_t(saveMyStatements));for(q=0;q<i.length;q++){d=r.getPageOfSetStatementContainer(q,i[q]);if(q>0){d.hide()}k.append(d);d.find("input").each(function(){$(this).click(function v(){new GuiHandler().displayNextPageOffSetStatementContainer(k,l,m,j,o)})})}l.click(function n(){new GuiHandler().displayPrevPageOffSetStatementContainer(k,l,m,j,o)});m.click(function p(){new GuiHandler().displayNextPageOffSetStatementContainer(k,l,m,j,o)})}$("#"+popupSetPremiseGroups).modal("show")};this.displayNextPageOffSetStatementContainer=function(d,g,f,c,i){var h=d.find("div:visible"),j=parseInt(h.attr("id").substr(i.length)),e=h.find("input:checked");if(e.length==0){$("#insert_statements_page_error").fadeIn()}else{$("#insert_statements_page_error").fadeOut();if(j<(parseInt(f.attr("max"))-1)){h.hide().next().fadeIn();g.parent().removeClass("disabled");c.show().text((j+2)+"/"+f.attr("max"));if((j+2)==parseInt(f.attr("max"))){f.parent().addClass("disabled")}}else{$("#"+popupSetPremiseGroupsSendButton).removeClass("disabled")}}};this.displayPrevPageOffSetStatementContainer=function(d,f,e,c,h){var g=d.find("div:visible"),i=parseInt(g.attr("id").substr(h.length));if(i>0){g.hide().prev().fadeIn();e.parent().removeClass("disabled");c.show().text((i)+"/"+f.attr("max"));if(i==0){f.parent().addClass("disabled")}}};this.getPageOfSetStatementContainer=function(r,s){var c=$("#insert_statements_page_");var p=c.clone();var e=c.attr("id");var o=s.split(" "+_t_discussion(and)+" ");var k=$("#"+addPremiseContainerMainInputIntroId).text();var h,g,f,n,l,q,d,j,m;k=k.substr(0,k.length-3);$("#popup-set-premisegroups-body-intro-statements").text(s.trim());if(k.match(/\.$/)){k=k.substr(0,k.length-1)+", "}p.attr("id",e+r).attr("page",r).show();p.find("#"+popupSetPremiseGroupsStatementCount).text(o.length);n=p.find("#"+popupSetPremiseGroupsListMoreArguments);q=p.find("#"+popupSetPremiseGroupsOneBigStatement);h=p.find("#insert_more_arguments");g=p.find("#insert_one_argument");f=p.find("#insert_dont_care");h.attr("id",h.attr("id")+"_"+r);g.attr("id",g.attr("id")+"_"+r);f.attr("id",f.attr("id")+"_"+r);h.attr("name",h.attr("name")+"_"+r);g.attr("name",g.attr("name")+"_"+r);f.attr("name",f.attr("name")+"_"+r);h.parent().attr("for",h.parent().attr("for")+"_"+r);g.parent().attr("for",g.parent().attr("for")+"_"+r);f.parent().attr("for",f.parent().attr("for")+"_"+r);d=_t_discussion(isItTrueThat);if(getDiscussionLanguage()=="de"){l=k}else{l=k+" "+d}for(j=0;j<o.length;j++){n.append($("<li>").text(k+" "+o[j]+"."));m=j==0?"":("<em>"+_t_discussion(andAtTheSameTime)+"</em> "+d+" ");l+=" "+m+o[j]}q.html(new Helper().startWithUpperCase(l)+".");return p};this.setStatementsAsProposal=function(o,n,l){var k=$("#"+n),j;if(l==fuzzy_start_premise){$("#"+proposalPremiseListGroupId).empty()}else{if(l==fuzzy_start_statement){$("#"+proposalStatementListGroupId).empty()}else{if(l==fuzzy_add_reason){$("#"+proposalPremiseListGroupId).empty()}else{if(l==fuzzy_statement_popup){$("#"+proposalEditListGroupId).empty()}else{if(l==fuzzy_find_user){$("#"+proposalUserListGroupId).empty()}}}}}if(o.length==0){return}var d,g,e,i,c,h,m,f;k.focus();$.each(o.values,function(p,q){c=parseInt(q.distance);h=q.index;d=k.val();j=q.text;m=q.text.replace(new RegExp("("+(d+"").replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:])/g,"\\$1")+")","gi"),"</b>$1<b>");g=$("<button>").attr("type","button").attr("class","list-group-item").attr("id","proposal_"+h).attr("text",j).hover(function(){$(this).addClass("active")},function(){$(this).removeClass("active")});e=$("<span>").attr("class","badge").text(o.distance_name+" "+c);i=$("<span>").attr("id","proposal_"+h+"_text").html(m);f=$("<img>").addClass("preload-image").attr("style","height: 20pt;, margin-right: 1em;").attr("src",q.avatar);g.append(f).append(e).append(i).click(function(){k.val($(this).attr("text"));$("#"+proposalStatementListGroupId).empty();$("#"+proposalPremiseListGroupId).empty();$("#"+proposalEditListGroupId).empty();$("#"+proposalUserListGroupId).empty()});if(l==fuzzy_start_premise){$("#"+proposalPremiseListGroupId).append(g)}else{if(l==fuzzy_start_statement){$("#"+proposalStatementListGroupId).append(g)}else{if(l==fuzzy_add_reason){$("#"+proposalPremiseListGroupId).append(g)}else{if(l==fuzzy_statement_popup){$("#"+proposalEditListGroupId).append(g)}else{if(l==fuzzy_find_user){$("#"+proposalUserListGroupId).append(g)}}}}}})};this.showEditStatementsPopup=function(){var f,h,e,g,d=new Helper(),c=[];$("#"+popupEditStatementId).modal("show");$("#"+popupEditStatementWarning).hide();f=$("<table>").attr("class","table table-condensed table-hover").attr("border","0").attr("style","border-collapse: separate; border-spacing: 5px 5px;");e=$("<td>").html("<strong>"+_t_discussion(text)+"</strong>").css("text-align","center");g=$("<td>").html("<strong>"+_t_discussion(options)+"</strong>").css("text-align","right");f.append($("<tr>").append(e).append(g));$("#"+discussionSpaceId+" li:not(:last-child) label:nth-child(even)").each(function(){h=d.createRowInEditDialog($(this).text(),$(this).attr("for").substr("item_".length),$(this).attr("id"));if($.inArray($(this).attr("id"),c)==-1){f.append(h);c.push($(this).attr("id"))}});$("#"+popupEditStatementContentId).empty().append(f);$("#"+popupEditStatementTextareaId).hide();$("#"+popupEditStatementDescriptionId).hide();$("#"+popupEditStatementSubmitButtonId).hide();$("#"+proposalEditListGroupId).empty()};this.showUrlSharingPopup=function(){$("#"+popupUrlSharingId).modal("show");new AjaxDiscussionHandler().getShortenUrl(window.location)};this.showGeneratePasswordPopup=function(){$("#"+popupGeneratePasswordId).modal("show");$("#"+popupGeneratePasswordCloseButtonId).click(function(){$("#"+popupGeneratePasswordId).modal("hide")});$("#"+popupLoginCloseButton).click(function(){$("#"+popupGeneratePasswordId).modal("hide")})};this.showEditFieldsInEditPopup=function(){$("#"+popupEditStatementSubmitButtonId).fadeIn("slow");$("#"+popupEditStatementTextareaId).fadeIn("slow");$("#"+popupEditStatementDescriptionId).fadeIn("slow")};this.showAddTopicPopup=function(c){$("#popup-add-topic").modal("show");$("#popup-add-topic-accept-btn").click(function(){var d=$("#popup-add-topic-info-input").val(),f=$("#popup-add-topic-title-input").val(),e=$("#popup-add-topic-lang-input").find('input[type="radio"]:checked').attr("id");new AjaxDiscussionHandler().sendNewIssue(d,f,e,c)});$("#popup-add-topic-refuse-btn").click(function(){$("#popup-add-topic").modal("hide")})};this.showEditIssuesPopup=function(){var i,d,e,c,g,j,h=new Helper(),f=[];$("#"+popupEditIssueId).modal("show");$("#"+popupEditIssueWarning).hide();i=$("<table>").attr("class","table table-condensed table-hover").attr("border","0").attr("style","border-collapse: separate; border-spacing: 5px 5px;");c=$("<td>").html("<strong>"+_t_discussion(text)+"</strong>").css("text-align","center");g=$("<td>").html("<strong>"+_t_discussion(text)+"</strong>").css("text-align","center");j=$("<td>").html("<strong>"+_t_discussion(options)+"</strong>").css("text-align","right");d.append(c);e.append((g).append(j));i.append((d).append(e));$("#"+popupEditIssueContentId).empty().append(i);$("#"+popupEditTitleTextareaId).hide();$("#"+popupEditTitleDescriptionId).hide();$("#"+popupEditInfoTextareaId).hide();$("#"+popupEditInfoDescriptionId).hide();$("#"+popupEditIssueSubmitButtonId).hide();$("#"+proposalEditListGroupId).empty()};this.showStatementCorrectionsInPopup=function(c){var d,f;d=$("<table>");d.attr("id","edit_statement_table").attr("class","table table-condensed").attr("border","0").attr("style","border-collapse: separate; border-spacing: 5px 5px;");f=$("<tr>");f.append($("<td>").html("<strong>"+_t(date)+"</strong>").css("text-align","center"));f.append($("<td>").html("<strong>"+_t(text)+"</strong>").css("text-align","center"));f.append($("<td>").html("<strong>"+_t(author)+"</strong>").css("text-align","center"));d.append(f);$.each(c.content,function e(g,h){f=$("<tr>").append($("<td>").text(h.date)).append($("<td>").text(h.text)).append($("<td>").append($("<a>").attr("target","_blank").attr("href",h.author_url).text(h.author)).append($("<img>").attr("src",h.author_gravatar)));d.append(f)});$("#"+popupEditStatementLogfileSpaceId).empty().append(d)};this.showHowToWriteTextPopup=function(){var d="HOW_TO_WRITE_TEXT",c=new Helper().isCookieSet(d);if(!c){$("#"+popupHowToWriteText).modal("show")}$("#"+popupHowToWriteTextOkayButton).click(function(){$("#"+popupHowToWriteText).modal("hide");new Helper().setCookie(d)})};this.hideEditFieldsInEditPopup=function(){$("#"+popupEditStatementSubmitButtonId).hide();$("#"+popupEditStatementTextareaId).hide();$("#"+popupEditStatementDescriptionId).hide()};this.hideLogfileInEditPopup=function(){$("#"+popupEditStatementLogfileSpaceId).empty();$("#"+popupEditStatementLogfileHeaderId).html("")};this.hideandClearEditStatementsPopup=function(){$("#"+popupEditStatementId).modal("hide");$("#"+popupEditStatementContentId).empty();$("#"+popupEditStatementLogfileSpaceId).text("");$("#"+popupEditStatementLogfileHeaderId).text("");$("#"+popupEditStatementTextareaId).text("");$("#"+popupEditStatementErrorDescriptionId).text("");$("#"+popupEditStatementSuccessDescriptionId).text("")};this.hideAndClearUrlSharingPopup=function(){$("#"+popupUrlSharingId).modal("hide");$("#"+popupUrlSharingInputId).val("")};this.hideErrorDescription=function(){$("#"+discussionErrorDescriptionId).html("");$("#"+discussionErrorDescriptionSpaceId).hide()};this.hideSuccessDescription=function(){$("#"+discussionSuccessDescriptionId).html("");$("#"+discussionSuccessDescriptionSpaceId).hide()};this.updateOfStatementInDiscussion=function(c){$("#td_"+c.uid).text(c.text);$("#"+c.uid).text(c.text)};this.resetChangeDisplayStyleBox=function(){this.setDisplayStyleAsDiscussion()};this.resetEditAndRefactorButton=function(f){if(typeof f==="undefined"){f=true}var h=false,e,c,g,d;$("#"+discussionSpaceId+" ul > li").children().each(function(){e=$(this).val();c=$(this).attr("id");g=$(this).hasClass("premise");d=$(this).hasClass("start");if(f){if($(this).prop("tagName").toLowerCase().indexOf("input")>-1&&e.length>0&&$.isNumeric(c)||g||d){h=true;return false}}});if(h){$("#"+editStatementButtonId).show();$("#"+reportButtonId).show()}else{$("#"+editStatementButtonId).hide();$("#"+reportButtonId).hide()}};this.getAlertIntoDialogNoDecisions=function(){var e,c,d;e=$("<div>").attr("class","alert alert-dismissible alert-info");c=$("<strong>").text("Ohh...! ");d=$("<span>").text(_t_discussion(noDecisionstaken));e.append(c).append(d);return e}};function Helper(){this.cutTextOnChar=function(f,e,c){var b,d,a;b=1;a=f.length;while(b*e<a){d=f.indexOf(c,b*e);f=f.substr(0,d)+"<br>"+f.substr(d+c.length);b=b+1}return f};this.swapElements=function(d,c){var a=$(c).clone(true),b=$(d).clone(true);$(c).replaceWith(b);$(d).replaceWith(a)};this.getTodayAsDate=function(){var c=new Date(),b=c.getMonth()+1,a=c.getDate();return((a<10?"0":"")+a+"."+(b<10?"0":"")+b+"."+c.getFullYear())};this.escapeHtml=function(a){var b=document.createElement("div");b.appendChild(document.createTextNode(a));return b.innerHTML};this.getFullHtmlTextOf=function(a){return $("<div>").append(a).html()};this.startWithLowerCase=function(a){return a.substr(0,1).toLowerCase()+a.substr(1)};this.startWithUpperCase=function(a){return a.substr(0,1).toLocaleUpperCase()+a.substr(1)};this.createRowInEditDialog=function(l,i,g){var b,k,h=new GuiHandler(),n=new AjaxDiscussionHandler(),j,c,e,d;j=$("<tr>");c=$("<td>").text(l).attr("id","td_"+g).attr("for",i);e=$("<td>").css("text-align","right");b=$("<input>").css("margin","2px").attr("type","button").attr("value",_t_discussion(edit)).attr("class","btn btn-primary btn-xs").click(function m(){$("#"+popupEditStatementTextareaId).text($(this).parent().prev().text());$("#"+popupEditStatementContentId+" td").removeClass("text-hover");$(this).parent().prev().addClass("text-hover");$("#"+popupEditStatementErrorDescriptionId).text("");$("#"+popupEditStatementSuccessDescriptionId).text("");h.showEditFieldsInEditPopup();h.hideLogfileInEditPopup();$("#"+popupEditStatementSubmitButtonId).click(function o(){d=$("#"+popupEditStatementContentId+" .text-hover");new AjaxDiscussionHandler().sendCorrectureOfStatement(d.attr("id").substr(3),$("#"+popupEditStatementTextareaId).val(),d)})}).hover(function f(){$(this).toggleClass("btn-primary",400)});k=$("<input>").css("margin","2px").attr("type","button").attr("value",_t_discussion(changelog)).attr("class","btn btn-primary btn-xs").click(function a(){$("#"+popupEditStatementLogfileHeaderId).html(_t(logfile)+": <strong>"+$(this).parent().prev().text()+"</strong>");$("#"+popupEditStatementErrorDescriptionId).text("");$("#"+popupEditStatementSuccessDescriptionId).text("");$("#"+popupEditStatementContentId+" td").removeClass("text-hover");$(this).parent().prev().addClass("text-hover");n.getLogfileForStatement($(this).parent().prev().attr("id").substr(3));h.hideEditFieldsInEditPopup()}).hover(function f(){$(this).toggleClass("btn-primary",400)});e.append(b);e.append(k);j.append(c);j.append(e);return j};this.getCurrentIssueId=function(){return $("#"+issueDropdownButtonID).attr("issue")};this.setCookie=function(a){this.setCookieForDays(a,7)};this.setCookieForDays=function(c,g,f){var e=new Date();var b=g*24*60*60*1000;e.setTime(e.getTime()+b);var a="expires="+e.toGMTString();document.cookie=c+"="+f+"; "+a+";path=/";$(document).trigger("user_cookie_consent_changed",{consent:f})};this.isCookieSet=function(e){var d=document.cookie.split(";"),a=false;for(var b=0;b<d.length;b++){var f=d[b].trim();if(f.indexOf(e)==0){a=f.substring(e.length+1,f.length)}}return a};this.redirectInNewTabForContact=function(e){var a=$("#"+hiddenCSRFTokenId).val();var c='<input type="hidden" name="csrf_token" value="'+a+'">';var d=$("<form target='_blank' method='POST' style='display:none;'>"+c+"</form>").attr("action",mainpage+"contact");d.appendTo(document.body);for(var b in e){if(e.hasOwnProperty(b)){d.append($('<input type="hidden" />').attr("name",b).attr("value",e[b]))}}d.submit().remove()};this.getMaxSizeOfGraphViewContainer=function(){var c,b,a;c=$("#"+customBootstrapMenuId);b=$("#footer");a=window.innerHeight;a-=c.outerHeight(true);a-=b.outerHeight(true);a-=this.getPaddingOfElement(c);a-=this.getPaddingOfElement(b);return a};this.getMaxSizeOfDiscussionViewContainer=function(){var a,c,b;a=$("#header-container");b=$("#"+discussionSpaceListId);c=this.getMaxSizeOfGraphViewContainer();c-=a.outerHeight(true);c-=b.outerHeight(true);c-=this.getPaddingOfElement(a);c-=this.getPaddingOfElement(b);return c-10};this.getPaddingOfElement=function(a){return parseInt(a.css("padding-top").replace("px",""))+parseInt(a.css("padding-bottom").replace("px",""))};this.isMobileAgent=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)};this.setLocalStorage=function(a,c){try{localStorage.setItem(a,c);return true}catch(b){console.log("Error while set item in local storage.");return false}};this.getLocalStorage=function(a){try{return localStorage.getItem(a)}catch(b){console.log("Error while get item in local storage.");return undefined}};this.rotateElement=function(a,b){a.css("-ms-transform","rotate("+b+"deg)").css("-webkit-transform","rotate("+b+"deg)").css("transform","rotate("+b+"deg)")};this.setAnimationSpeed=function(a,b){a.css("-webkit-transition","all "+b+"s ease").css("-moz-transition","all "+b+"s ease").css("-o-transition","all "+b+"s ease").css("transition","all "+b+"s ease")};this.delay=function(){var a=0;return function(c,b){clearTimeout(a);a=setTimeout(c,b)}}()};function InteractionHandler(){this.callbackIfDoneForSendNewStartStatement=function(a){var b=$.parseJSON(a);if(b.error.length>0){$("#"+addStatementErrorContainer).show();$("#"+addStatementErrorMsg).text(b.error)}else{$("#"+discussionSpaceId+"input:last-child").attr("checked",false).prop("checked",false);window.location.href=b.url}};this.callbackIfDoneForSendNewPremisesArgument=function(a){var b=$.parseJSON(a);if(b.error.length>0){$("#"+addPremiseErrorContainer).show();$("#"+addPremiseErrorMsg).text(b.error)}else{window.location.href=b.url}};this.callbackIfDoneForSendNewStartPremise=function(a){var b=$.parseJSON(a);if(b.error.length>0){$("#"+addPremiseErrorContainer).show();$("#"+addPremiseErrorMsg).text(b.error)}else{window.location.href=b.url}};this.callbackIfDoneForGettingLogfile=function(a){var b=$.parseJSON(a);if(b.error.length==0){$("#"+popupEditStatementLogfileSpaceId).text("");new GuiHandler().showStatementCorrectionsInPopup(b)}else{$("#"+popupEditStatementLogfileSpaceId).text(b.error)}};this.callbackIfDoneForSendCorrectureOfStatement=function(b,a){var c=$.parseJSON(b);if(c.error.length!=0){$("#"+popupEditStatementErrorDescriptionId).text(c.error)}else{new GuiHandler().updateOfStatementInDiscussion(c,a);$("#"+popupEditStatementErrorDescriptionId).text("");$("#"+popupEditStatementSuccessDescriptionId).text(_t(correctionsSet))}};this.callbackIfDoneForShortenUrl=function(c,b){var d=$.parseJSON(c),a;if(d.error.length==0){a='<a href="'+d.service_url+'" title="'+d.service+'" target="_blank">'+d.service+"</a>";$("#"+popupUrlSharingDescriptionPId).html(_t_discussion(feelFreeToShareUrl)+", "+_t_discussion(shortenedBy)+" "+a+":");$("#"+popupUrlSharingInputId).val(d.url).data("short-url",d.url)}else{$("#"+popupUrlSharingDescriptionPId).text(_t_discussion(feelFreeToShareUrl)+".");$("#"+popupUrlSharingInputId).val(b)}};this.callbackIfDoneFuzzySearch=function(c,b,a){var d=$.parseJSON(c);if(Object.keys(d).length==0){$("#"+proposalStatementListGroupId).empty();$("#"+proposalPremiseListGroupId).empty();$("#"+proposalEditListGroupId).empty();$("#"+proposalUserListGroupId).empty()}else{new GuiHandler().setStatementsAsProposal(d,b,a)}};this.callbackIfDoneForGettingInfosAboutArgument=function(c){var m=$.parseJSON(c),l,d;if(m.error.length==0){var f=$("<div>"),n=$("<table>").attr("class","table table-condensed table-hover").attr("border","0").attr("style","border-collapse: separate; border-spacing: 5px 5px;"),j=$("<tr>").append($("<td>").html("<strong>"+_t_discussion(avatar)+"</strong>").css("text-align","left")).append($("<td>").html("<strong>"+_t_discussion(nickname)+"</strong>").css("text-align","left")).append($("<td>").html("<strong>"+_t_discussion(avatar)+"</strong>").css("text-align","left")).append($("<td>").html("<strong>"+_t_discussion(nickname)+"</strong>").css("text-align","left")),e=$("<tbody>"),b,g,k="",h="",a=0;if(Object.keys(m.supporter).length>1){j.append($("<td>").html("<strong>"+_t_discussion(avatar)+"</strong>").css("text-align","left")).append($("<td>").html("<strong>"+_t_discussion(nickname)+"</strong>").css("text-align","left"))}l=m.text+"<br><br>";l+=_t_discussion(messageInfoStatementCreatedBy)+" "+m.author+", ";l+=m.timestamp+".<br>";l+=_t_discussion(messageInfoCurrentlySupported)+" "+m.vote_count+" ";l+=_t_discussion(messageInfoParticipant)+(m.vote_count==1?"":_t_discussion(messageInfoParticipantPl))+".";if(m.vote_count>0){$.each(m.supporter,function(o,i){b=$("<td>").append($("<a>").attr("target","_blank").attr("href",m.public_page[i]).text(i));g=$("<td>").html('<img class="preload-image" style="height: 40%;" src="'+m.gravatars[i]+'"></td>');if(a==1){a=0;e.append($("<tr>").append(h).append(k).append(g).append(b))}else{a=1;k=b;h=g}});if(a==1){e.append($("<tr>").append(h).append(k))}}if(e.find("tr").length==0){f.append(new GuiHandler().getAlertIntoDialogNoDecisions())}else{f.append(n.append(e))}f.append(l).append(n.append(e));displayConfirmationDialogWithoutCancelAndFunction(_t_discussion(messageInfoTitle),f);$("#"+popupConfirmDialogId).find(".modal-dialog");new Helper().delay(function(){var i=$("#"+popupConfirmDialogId).find(".modal-body div");if($(window).height()>400&&i.outerHeight(true)>$(window).height()){i.slimScroll({position:"right",railVisible:true,alwaysVisible:true,height:($(window).height()/3*2)+"px"})}},300)}else{l=m.error;d=$("<p>").html(l);displayConfirmationDialogWithoutCancelAndFunction(_t_discussion(messageInfoTitle),d)}};this.callbackIfDoneForSendNewIssue=function(f){var h=$.parseJSON(f);if(h.error.length==0){$("#popup-add-topic").modal("hide");var b=$("<li>").addClass("enabled"),c=$("<a>").attr("href",h.issue.url).attr("value",h.issue.title),d=$("<span>").text(h.issue.title),g=$("<span>").addClass("badge").attr("style","float: right; margin-left: 1em;").text(h.issue.arg_count),e=$("#"+issueDropdownListID).find("li.divider");b.append(c.append(d).append(g));if(e.length>0){b.insertBefore(e)}}else{$("#popup-add-topic-error-text").text(h.error);$("#popup-add-topic-error").show();new Helper().delay(function(){$("#popup-add-topic-error").hide()},2500)}};this.callbackIfDoneForSendNewIssueTable=function(c){var d=$.parseJSON(c);if(d.error.length==0){$("#popup-add-topic").modal("hide");var b=$("#issue-table");var a=$("<tr>").append($("<td>").html(d.issue.uid)).append($("<td>").html(d.issue.title)).append($("<td>").html(d.issue.info)).append($("<td>").html(d.issue.date)).append($("<td>").append($("<a>").attr("target","_blank").attr("href",d.issue.public_url).text(d.issue.author))).append($("<td>").append($("<a>").attr("href","#").attr("class","btn btn-info btn-lg").append($("<span>").attr("class","glyphicon glyphicon-edit"))));b.append(a)}else{$("#popup-add-topic-error-text").text(d.error);$("#popup-add-topic-error").show();new Helper().delay(function(){$("#popup-add-topic-error").hide()},2500)}};this.callbackIfDoneForGettingMoreInfosAboutOpinion=function(d,l){var o=$.parseJSON(d),n,h;if(o.error.length==0){var e=$("<div>"),m=l?$("<span>").text(o.opinions.message):$("<span>").text(o.opinions[0].message),p=$("<table>").attr("class","table table-condensed table-hover").attr("border","0").attr("style","border-collapse: separate; border-spacing: 5px 5px;"),i=$("<tr>").append($("<td>").html("<strong>"+_t_discussion(avatar)+"</strong>").css("text-align","left")).append($("<td>").html("<strong>"+_t_discussion(nickname)+"</strong>").css("text-align","left")),c=$("<tbody>"),b,f,k="",g="",a=0;n=l?o.opinions.users:o.opinions[0].users;if(Object.keys(n).length>1){i.append($("<td>").html("<strong>"+_t_discussion(avatar)+"</strong>").css("text-align","left")).append($("<td>").html("<strong>"+_t_discussion(nickname)+"</strong>").css("text-align","left"))}p.append($("<thead>").append(i));$.each(n,function(j,q){b=$("<td>").append($("<a>").attr("target","_blank").attr("href",q.public_profile_url).text(q.nickname));f=$("<td>").html('<img class="preload-image" style="height: 40%;" src="'+q.avatar_url+'"></td>');if(a==1){a=0;c.append($("<tr>").append(g).append(k).append(f).append(b))}else{a=1;k=b;g=f}});if(a==1){c.append($("<tr>").append(g).append(k))}if(c.find("tr").length==0){e.append(new GuiHandler().getAlertIntoDialogNoDecisions())}else{e.append(m).append(p.append(c))}displayConfirmationDialogWithoutCancelAndFunction(_t_discussion(usersWithSameOpinion),e);$("#"+popupConfirmDialogId).find(".modal-dialog");new Helper().delay(function(){h=$("#"+popupConfirmDialogId).find(".modal-body div");if($(window).height()>400&&h.outerHeight(true)>$(window).height()){h.slimScroll({position:"right",railVisible:true,alwaysVisible:true,height:($(window).height()/3*2)+"px"})}},300)}else{setGlobalErrorHandler(_t(ohsnap),o.error)}};this.sendStatement=function(l,a,h,m,b,f){if(l.length==0){if(f==fuzzy_start_statement){$("#"+addStatementErrorContainer).show();$("#"+addStatementErrorMsg).text(_t(inputEmpty))}else{$("#"+addPremiseErrorContainer).show();$("#"+addPremiseErrorMsg).text(_t(inputEmpty))}}else{var k=[],g=[];if($.isArray(l)){for(var e=0;e<l.length;e++){l[e]=l[e].replace(/\s\s+/g," ");while(l[e].indexOf((_t_discussion(and)+" "),l[e].length-(_t_discussion(and)+" ").length)!==-1||l[e].indexOf((_t_discussion(and)),l[e].length-(_t_discussion(and)).length)!==-1){if(l[e].indexOf((_t_discussion(and)+" "),l[e].length-(_t_discussion(and)+" ").length)!==-1){l[e]=l[e].substr(0,l[e].length-(_t_discussion(and)+" ").length)}else{l[e]=l[e].substr(0,l[e].length-(_t_discussion(and)).length)}}while(l[e].indexOf((" "),l[e].length-(" ").length)!==-1){l[e]=l[e].substr(0,l[e].length-(" ").length)}if(l[e].toLocaleLowerCase().indexOf(" "+_t_discussion(and)+" ")!=-1){k.push(l[e])}else{g.push(l[e])}}}if(k.length>0){var c=new Helper();for(var d=0;d<k.length;d++){k[d]=c.startWithLowerCase(k[d]);if(k[d].match(/\.$/)){k[d]=k[d].substr(0,k[d].length-1)}}new GuiHandler().showSetStatementContainer(k,g,h,f,m,b,a)}else{if(f==fuzzy_start_statement){if(g.length>0){alert("TODO: more than one decided text")}else{new AjaxDiscussionHandler().sendNewStartStatement(l)}}else{if(f==fuzzy_start_premise){new AjaxDiscussionHandler().sendNewStartPremise(l,a,h)}else{if(f==fuzzy_add_reason){new AjaxDiscussionHandler().sendNewPremiseForArgument(m,b,l)}}}}}}};"use strict";function Main(){this.setClickFunctions=function(s,g){$(".icon-add-premise").each(function(){$(this).click(function(){s.appendAddPremiseRow($(this));$(this).hide().prev().show();$("#"+sendNewPremiseId).val(_t(saveMyStatements))})});$("#"+b).click(function b(){if($(this).val()===_t(showAllUsers)){g.getUsersOverview();$(this).val(_t(hideAllUsers))}else{$("#"+adminsSpaceForUsersId).empty();$(this).val(_t(showAllUsers))}});$("#"+listAllArgumentId).click(function e(){if($(this).val()===_t(showAllAttacks)){g.getArgumentOverview()}else{$("#"+adminsSpaceForArgumentsId).empty()}});$("#"+f).click(function f(){$("#"+addStatementContainerId).hide();$("#"+addStatementErrorContainer).hide();$("#"+discussionSpaceId+" li:last-child input").attr("checked",false).prop("checked",false).enable=true});$("#"+closePremiseContainerId).click(function f(){$("#"+addPremiseContainerId).hide();$("#"+addPremiseErrorContainer).hide();$("#"+discussionSpaceId+" li:last-child input").attr("checked",false).prop("checked",false).enable=true});$("#"+closeIslandViewContainerId).click(function(){s.resetChangeDisplayStyleBox();$("#li_"+addReasonButtonId).attr("checked",true).prop("checked",true)});$("#"+closeGraphViewContainerId).click(function(){s.resetChangeDisplayStyleBox()});$("#"+editStatementButtonId).click(function(){s.showEditStatementsPopup()});$("#"+o).click(function o(){s.hideandClearEditStatementsPopup()});$("#"+c).click(function c(){s.hideandClearEditStatementsPopup()});$("#"+d).click(function d(){s.hideAndClearUrlSharingPopup()});$("#"+p).click(function p(){s.hideAndClearUrlSharingPopup()});$("#"+shareUrlId).click(function j(){s.showUrlSharingPopup()});$("#"+popupUrlSharingLongUrlButtonID).click(function(){var t=$("#"+popupUrlSharingInputId);if($(this).data("is-short-url")=="0"){t.val(t.data("short-url"));$(this).data("is-short-url","1").text(_t_discussion(fetchLongUrl))}else{t.val(window.location);$(this).data("is-short-url","0").text(_t_discussion(fetchShortUrl))}});$("#"+m).click(function m(){new Sharing().emailShare("user@example.com",_t(interestingOnDBAS),_t(haveALookAt)+" "+$("#"+popupUrlSharingInputId).val())});$("#"+i).click(function i(){new Sharing().twitterShare($("#"+popupUrlSharingInputId).val(),"")});$("#"+h).click(function h(){new Sharing().googlePlusShare($("#"+popupUrlSharingInputId).val())});$("#"+k).click(function k(){var t=$("#"+popupUrlSharingInputId).val();new Sharing().facebookShare(t,"FB Sharing",_t(haveALookAt)+" "+t,mainpage+"static/images/logo.png")});s.setDisplayStyleAsDiscussion();$("#"+displayStyleIconGuidedId).click(function a(){s.setDisplayStyleAsDiscussion()});$("#"+displayStyleIconIslandId).click(function r(){s.setDisplayStyleAsIsland()});$("#"+displayStyleIconExpertId).click(function n(){s.setDisplayStyleAsGraphView()});$("#"+reportButtonId).click(function q(){var u="Report "+new Helper().getTodayAsDate(),t="URL: "+window.location.href,w=_t(fillLine).toUpperCase(),v={content:u+"\n"+t+"\n"+w,name:$("#header_user").parent().text().replace(/\s/g,"")};new Helper().redirectInNewTabForContact(v)});$("#"+opinionBarometerImageId).show().click(function l(){new DiscussionBarometer().showBarometer()});$("#"+issueDropdownListID+" .enabled").each(function(){if($(this).children().length>0){$(this).children().click(function(){var t=$(this).attr("href"),u=_t(switchDiscussionText1)+" <strong>"+$(this).attr("value")+"</strong> ";u+=_t(switchDiscussionText2);u+="<br><br>";u+=_t(switchDiscussionText3);$(this).attr("href","#");displayConfirmationDialogWithCheckbox(_t(switchDiscussion),u,_t.keepSetting,t,true)})}});$("#"+issueDropdownListID+" .disabled a").off("click").unbind("click");$(".triangle-l").click(function(){if($(this).attr("id").indexOf(questionBubbleId)!=-1){var t=$(this).attr("id").replace(questionBubbleId+"-","");g.getMoreInfosAboutArgument(t,true)}});$("#"+addTopicButtonId).click(function(){s.showAddTopicPopup(new InteractionHandler().callbackIfDoneForSendNewIssue)});$(".triangle-r-info").each(function(){if($(this).data("votecount")>0){$(this).click(function(){var v=$(this).data("type"),t=$(this).data("argument-uid"),u=$(this).data("statement-uid"),w=$(this).data("is-supportive");new AjaxDiscussionHandler().getMoreInfosAboutOpinion(v,t,u,w)})}else{$(this).removeClass("triangle-r-info").addClass("triangle-r-info-nohover")}});$("#"+contactSubmitButtonId).click(function(){setTimeout("$('body').addClass('loading')",0)})};this.setSidebarClicks=function(h,i){var d=new Helper();var f=h.find("."+sidebarWrapperClass);var b=h.find("."+contentWrapperClass);var c=f.find("."+hamburgerIconClass);var e=f.find("."+sidebarTackWrapperClass);var g=f.find("."+sidebarTackClass);var a=f.find("."+sidebarClass);$(c).click(function(){$(this).toggleClass("open");var j=b.width();if(a.is(":visible")){e.fadeOut();a.toggle("slide");c.css("margin-right","0.5em").css("background-color","");h.css("max-height","");f.css("background-color","").css("height","");d.delay(function(){b.width(j+a.outerWidth())},300);d.setLocalStorage(i,"false")}else{b.width(j-a.outerWidth());h.css("max-height",h.outerHeight()+"px");d.delay(function(){a.toggle("slide");c.css("margin-right",(f.width()-c.width())/2+"px").css("margin-left","auto").css("background-color",a.css("background-color"));f.css("background-color",$("#"+discussionBubbleSpaceId).css("background-color")).css("height",h.outerHeight()+"px");e.fadeIn()},200)}});e.click(function(){var j=d.getLocalStorage(i)=="true";if(j){d.rotateElement(g,"0");d.setLocalStorage(i,"false");g.data("title",_t_discussion(pinNavigation));if(a.is(":visible")){c.click()}}else{d.rotateElement(g,"90");d.setLocalStorage(i,"true");g.data("title",_t_discussion(unpinNavigation))}})};this.setSidebarStyle=function(j,k){var i=new Helper().getLocalStorage(k)=="true";var g=j.find("."+sidebarWrapperClass);var b=j.find("."+contentWrapperClass);var f=g.find("."+sidebarTackWrapperClass);var h=g.find("."+sidebarTackClass);var a=g.find("."+sidebarClass);var e=new Helper();if(i){var d=b.width();var c=g.find("."+hamburgerIconClass);e.rotateElement(h,"90");e.setAnimationSpeed(b,"0.0");e.setAnimationSpeed(c,"0.0");c.addClass("open");b.width(d-a.outerWidth());j.css("max-height",j.outerHeight()+"px");a.show();c.css("margin-right",(g.width()-c.width())/2+"px").css("margin-left","auto").css("background-color",a.css("background-color"));g.css("background-color",$("#"+discussionBubbleSpaceId).css("background-color")).css("height",j.outerHeight()+"px");f.fadeIn();e.setAnimationSpeed(b,"0.5");e.setAnimationSpeed(c,"0.5");f.data("title",_t_discussion(unpinNavigation))}else{f.data("title",_t_discussion(pinNavigation))}};this.setKeyUpFunctions=function(a,b){$("#"+addStatementContainerMainInputId).keyup(function(){new Helper().delay(function(){var d=new Helper().escapeHtml($("#"+addStatementContainerMainInputId).val());if($("#"+discussionBubbleSpaceId).find("p:last-child").text().indexOf(_t(initialPositionInterest))!=-1){b.fuzzySearch(d,addStatementContainerMainInputId,fuzzy_start_statement,"")}else{b.fuzzySearch(d,addStatementContainerMainInputId,fuzzy_start_premise,"")}},200);setTextWatcherForMaxLength($(this))}).focusin(function(){setTextWatcherForMaxLength($(this))});$("#"+addPremiseContainerMainInputId).keyup(function(){new Helper().delay(function(){var d=new Helper().escapeHtml($("#"+addPremiseContainerMainInputId).val());b.fuzzySearch(d,addPremiseContainerMainInputId,fuzzy_add_reason,"")},200);setTextWatcherForMaxLength($(this))}).focusin(function(){setTextWatcherForMaxLength($(this))});$("#"+popupEditStatementTextareaId).keyup(function c(){new Helper().delay(function(){b.fuzzySearch($("#"+popupEditStatementTextareaId).val(),popupEditStatementTextareaId,fuzzy_statement_popup,$("#"+popupEditStatementContentId+" .text-hover").attr("id").substr(3));$("#"+popupEditStatementWarning).hide();$("#"+popupEditStatementWarningMessage).text("")},200);setTextWatcherForMaxLength($(this))}).focusin(function(){setTextWatcherForMaxLength($(this))})};this.setStyleOptions=function(a){a.setMaxHeightForBubbleSpace();a.hideSuccessDescription();a.hideErrorDescription();$("#"+popupUrlSharingInputId).on("click",function(){$(this).select()});var c="data-argumentation-type";var b=$("#"+discussionSpaceListId);b.find("span["+c+'!=""]').each(function(){var d=$(this).attr(c);var e=$("<span>").addClass(d+"-highlighter");e.appendTo(document.body);var f=$(this).css("color");var g=e.css("color");e.remove();$(this).hover(function(){$("#dialog-speech-bubbles-space").find("span["+c+'="'+d+'"]').css("color",g).css("background-color","#edf3e6").css("border-radius","2px")},function(){$("#dialog-speech-bubbles-space").find("span["+c+'="'+d+'"]').css("color",f).css("background-color","").css("border-radius","0")})});b.children().each(function(){$(this).hover(function(){$(this).find("input").prop("checked",true)},function(){$(this).find("input").prop("checked",false)})})};this.setWindowOptions=function(){$(document).on({ajaxStart:function b(){setTimeout("$('body').addClass('loading')",0)},ajaxStop:function c(){setTimeout("$('body').removeClass('loading')",0)}});$("#navbar-left").empty();$(window).load(function a(){});$(window).resize(function(){new GuiHandler().setMaxHeightForBubbleSpace()})};this.setGuiOptions=function(){if(false&&window.location.href.indexOf("/reaction/")!=-1){var n="icon-badge",b="height: 30px; width:30px; margin-right: 0.5em;",a=mainpage+"static/images/icon_discussion_",q=$("#item_undermine"),p=$("#item_support"),c=$("#item_undercut"),g=$("#item_overbid"),m=$("#item_rebut"),k=$("#item_no_opinion"),o=$("<img>").addClass(n).attr({style:b,src:a+"undermine.png",onclick:q.attr("onclick")}),l=$("<img>").addClass(n).attr({style:b,src:a+"support.png",onclick:p.attr("onclick")}),i=$("<img>").addClass(n).attr({style:b,src:a+"undercut.png",onclick:c.attr("onclick")}),f=$("<img>").addClass(n).attr({style:b,src:a+"overbid.png",onclick:g.attr("onclick")}),e=$("<img>").addClass(n).attr({style:b,src:a+"rebut.png",onclick:m.attr("onclick")}),h=$("<img>").addClass(n).attr({style:b,src:a+"no_opinion.png",onclick:k.attr("onclick")});q.hide().next().prepend(o);p.hide().next().prepend(l);c.hide().next().prepend(i);g.hide().next().prepend(f);m.hide().next().prepend(e);k.hide().next().prepend(h)}$("#"+popupLogin).on("hidden.bs.modal",function(){var r=$("#"+discussionSpaceListId).find("#item_login");if(r.length>0){r.attr("checked",false).prop("checked",false)}}).on("shown.bs.modal",function(){$("#"+loginUserId).focus()});var j=window.location.href.indexOf("edited_statement=");if(j!=-1){var d=window.location.href.substr(j+"edited_statement=".length);$("#"+d).css("background-color","#FFF9C4")}};this.setInputExtraOptions=function(h,e){var j=$("#"+discussionSpaceListId);var k=j.find("li:last-child input");var m=[],l,c,i,n,b;l=window.location.href.split("?");l=l[0].split("/");var a=function(){m=$("#"+addStatementContainerMainInputId).val();e.sendStatement(m,"","","","",fuzzy_start_statement)};var f=function(){c=l[l.length-2];i=l[l.length-1]=="t";m=[];$("#"+addPremiseContainerBodyId+" input").each(function(){if($(this).val().length>0){m.push($(this).val())}});e.sendStatement(m,c,i,"","",fuzzy_start_premise)};var g=function(){m=[];$("#"+addPremiseContainerBodyId+" input").each(function(){if($(this).val().length>0){m.push($(this).val())}});var o=window.location.href.indexOf("support")!=-1?1:0;n=l[l.length-3-o];i=l[l.length-2-o]=="t";b=l[l.length-1-o];e.sendStatement(m,"",i,n,b,fuzzy_add_reason)};if(window.location.href.indexOf("/r/")!=-1){$("#"+discussionSpaceId+" label").each(function(){$(this).css("width","95%")})}$("#"+discussionSpaceId+" input").each(function(){$(this).attr("checked",false).prop("checked",false)});$("#"+sendNewStatementId).off("click").click(function(){if($(this).attr("name").indexOf("start")!=-1){a()}});$("#"+sendNewPremiseId).off("click").click(function(){if(k.attr("id").indexOf("start_statement")!=-1){a()}else{if(k.attr("id").indexOf("start_premise")!=-1){f()}else{if(k.attr("id").indexOf("justify_premise")!=-1){g()}}}});var d=j.find("input");if(d.length==1&&(d.eq(0).attr("id").indexOf("start_statement")!=-1||d.eq(0).attr("id").indexOf("start_premise")!=-1||d.eq(0).attr("id").indexOf("justify_premise")!=-1||(d.eq(0).attr("id").indexOf("login")!=-1)&&$("#link_popup_login").text().trim().indexOf(_t(login))==-1)){d.eq(0).attr("checked",true).prop("checked",true).parent().hide()}if(k.attr("id")&&(k.attr("id").indexOf("start_statement")!=-1||k.attr("id").indexOf("start_premise")!=-1||k.attr("id").indexOf("justify_premise")!=-1||k.attr("id").indexOf("login")!=-1)){k.attr("onclick","");k.change(function(){if(k.prop("checked")){if(k.attr("id").indexOf("start_statement")!=-1){h.showAddPositionContainer();$("#"+sendNewStatementId).off("click").click(function(){a()})}else{if(k.attr("id").indexOf("start_premise")!=-1){h.showAddPremiseContainer();$("#"+sendNewPremiseId).off("click").click(function(){f()})}else{if(k.attr("id").indexOf("justify_premise")!=-1){h.showAddPremiseContainer();$("#"+sendNewPremiseId).off("click").click(function(){g()})}else{if(k.attr("id").indexOf("login")!=-1){$("#"+popupLogin).modal("show")}}}}}})}}}$(document).ready(function mainDocumentReady(){var g="tacked_sidebar";var b=new GuiHandler();var d=new AjaxDiscussionHandler();var e=new InteractionHandler();var a=new Main();var f;var c=$("#"+discussionContainerId);b.setHandler(e);a.setStyleOptions(b);a.setSidebarStyle(c,g);a.setSidebarClicks(c,g);a.setClickFunctions(b,d);a.setKeyUpFunctions(b,d);a.setWindowOptions();a.setGuiOptions();a.setInputExtraOptions(b,e);f=$("#discussion-restart-btn").attr("onclick").substr("location.href=".length);f=f.substr(1,f.length-2);$("#"+discussionEndRestart).attr("href",f);f=window.location.href.split("?");if(f[0].indexOf("/reaction/")!=-1){$("#island-view-undermine-button").attr("onclick",$("#item_undermine").attr("onclick"));$("#island-view-support-button").attr("onclick",$("#item_support").attr("onclick"));$("#island-view-undercut-button").attr("onclick",$("#item_undercut").attr("onclick"));$("#island-view-rebut-button").attr("onclick",$("#item_rebut").attr("onclick"))}$(document).delegate(".open","click",function(h){$(this).addClass("oppenned");h.stopPropagation()});$(document).delegate("body","click",function(h){$(".open").removeClass("oppenned")});$(document).delegate(".cls","click",function(h){$(".open").removeClass("oppenned");h.stopPropagation()})});